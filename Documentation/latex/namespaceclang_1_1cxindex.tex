\hypertarget{namespaceclang_1_1cxindex}{}\doxysection{clang\+::cxindex Namespace Reference}
\label{namespaceclang_1_1cxindex}\index{clang::cxindex@{clang::cxindex}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classclang_1_1cxindex_1_1_logger}{Logger}}
\item 
class \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc}{Scratch\+Alloc}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_entity_info}{Entity\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_container_info}{Container\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_decl_info}{Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_obj_c_container_decl_info}{Obj\+CContainer\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_obj_c_interface_decl_info}{Obj\+CInterface\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_obj_c_protocol_decl_info}{Obj\+CProtocol\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_obj_c_category_decl_info}{Obj\+CCategory\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_obj_c_property_decl_info}{Obj\+CProperty\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_c_x_x_class_decl_info}{CXXClass\+Decl\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_attr_info}{Attr\+Info}}
\item 
struct \mbox{\hyperlink{structclang_1_1cxindex_1_1_i_b_outlet_collection_info}{IBOutlet\+Collection\+Info}}
\item 
class \mbox{\hyperlink{classclang_1_1cxindex_1_1_attr_list_info}{Attr\+List\+Info}}
\item 
class \mbox{\hyperlink{classclang_1_1cxindex_1_1_c_x_index_data_consumer}{CXIndex\+Data\+Consumer}}
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef Intrusive\+Ref\+Cnt\+Ptr$<$ \mbox{\hyperlink{classclang_1_1cxindex_1_1_logger}{Logger}} $>$ \mbox{\hyperlink{namespaceclang_1_1cxindex_a404a46a001568431816a6c375e7cd810}{Log\+Ref}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespaceclang_1_1cxindex_a134d158252a9bfcc3db346dd2e65f09f}{print\+Diags\+To\+Stderr}} (ASTUnit $\ast$Unit)
\item 
Macro\+Info $\ast$ \mbox{\hyperlink{namespaceclang_1_1cxindex_af7ce142e794a78913423f48c9d01c78d}{get\+Macro\+Info}} (const Identifier\+Info \&II, Source\+Location Macro\+Def\+Loc, CXTranslation\+Unit TU)
\item 
const Macro\+Info $\ast$ \mbox{\hyperlink{namespaceclang_1_1cxindex_a9af76d8fd72b3732e87a672007c73bcd}{get\+Macro\+Info}} (const Macro\+Definition\+Record $\ast$Macro\+Def, CXTranslation\+Unit TU)
\begin{DoxyCompactList}\small\item\em Retrieves the corresponding Macro\+Info of a Macro\+Definition\+Record. \end{DoxyCompactList}\item 
Macro\+Definition\+Record $\ast$ \mbox{\hyperlink{namespaceclang_1_1cxindex_ac81be1c63a9bbf2e05be99daa2b11750}{check\+For\+Macro\+In\+Macro\+Definition}} (const Macro\+Info $\ast$MI, Source\+Location Loc, CXTranslation\+Unit TU)
\item 
Macro\+Definition\+Record $\ast$ \mbox{\hyperlink{namespaceclang_1_1cxindex_afbdf83287fd5c579f0118d85ba76bb26}{check\+For\+Macro\+In\+Macro\+Definition}} (const Macro\+Info $\ast$MI, const Token \&Tok, CXTranslation\+Unit TU)
\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{namespaceclang_1_1cxindex_a404a46a001568431816a6c375e7cd810}\label{namespaceclang_1_1cxindex_a404a46a001568431816a6c375e7cd810}} 
\index{clang::cxindex@{clang::cxindex}!LogRef@{LogRef}}
\index{LogRef@{LogRef}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{LogRef}{LogRef}}
{\footnotesize\ttfamily typedef Intrusive\+Ref\+Cnt\+Ptr$<$\mbox{\hyperlink{classclang_1_1cxindex_1_1_logger}{Logger}}$>$ \mbox{\hyperlink{namespaceclang_1_1cxindex_a404a46a001568431816a6c375e7cd810}{clang\+::cxindex\+::\+Log\+Ref}}}



Definition at line 31 of file CLog.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceclang_1_1cxindex_afbdf83287fd5c579f0118d85ba76bb26}\label{namespaceclang_1_1cxindex_afbdf83287fd5c579f0118d85ba76bb26}} 
\index{clang::cxindex@{clang::cxindex}!checkForMacroInMacroDefinition@{checkForMacroInMacroDefinition}}
\index{checkForMacroInMacroDefinition@{checkForMacroInMacroDefinition}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{checkForMacroInMacroDefinition()}{checkForMacroInMacroDefinition()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Macro\+Definition\+Record $\ast$ clang\+::cxindex\+::check\+For\+Macro\+In\+Macro\+Definition (\begin{DoxyParamCaption}\item[{const Macro\+Info $\ast$}]{MI,  }\item[{const Token \&}]{Tok,  }\item[{CXTranslation\+Unit}]{TU }\end{DoxyParamCaption})}

If {\ttfamily Tok} resides inside the definition of {\ttfamily MI} and it points at an identifier that has ever been a macro name, this returns the latest Macro\+Definition\+Record for that name, otherwise it returns NULL. 

Definition at line 9049 of file CIndex.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{9050                                                               \{}
\DoxyCodeLine{9051   \textcolor{keywordflow}{if} (!MI || !TU)}
\DoxyCodeLine{9052     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9053   \textcolor{keywordflow}{if} (Tok.isNot(tok::raw\_identifier))}
\DoxyCodeLine{9054     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9055 }
\DoxyCodeLine{9056   \textcolor{keywordflow}{if} (MI-\/>getNumTokens() == 0)}
\DoxyCodeLine{9057     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9058   SourceRange DefRange(MI-\/>getReplacementToken(0).getLocation(),}
\DoxyCodeLine{9059                        MI-\/>getDefinitionEndLoc());}
\DoxyCodeLine{9060   ASTUnit *Unit = cxtu::getASTUnit(TU);}
\DoxyCodeLine{9061 }
\DoxyCodeLine{9062   \textcolor{comment}{// Check that the token is inside the definition and not its argument list.}}
\DoxyCodeLine{9063   SourceManager \&SM = Unit-\/>getSourceManager();}
\DoxyCodeLine{9064   \textcolor{keywordflow}{if} (SM.isBeforeInTranslationUnit(Tok.getLocation(), DefRange.getBegin()))}
\DoxyCodeLine{9065     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9066   \textcolor{keywordflow}{if} (SM.isBeforeInTranslationUnit(DefRange.getEnd(), Tok.getLocation()))}
\DoxyCodeLine{9067     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9068 }
\DoxyCodeLine{9069   Preprocessor \&PP = Unit-\/>getPreprocessor();}
\DoxyCodeLine{9070   PreprocessingRecord *PPRec = PP.getPreprocessingRecord();}
\DoxyCodeLine{9071   \textcolor{keywordflow}{if} (!PPRec)}
\DoxyCodeLine{9072     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9073 }
\DoxyCodeLine{9074   IdentifierInfo \&II = PP.getIdentifierTable().get(Tok.getRawIdentifier());}
\DoxyCodeLine{9075   \textcolor{keywordflow}{if} (!II.hadMacroDefinition())}
\DoxyCodeLine{9076     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9077 }
\DoxyCodeLine{9078   \textcolor{comment}{// Check that the identifier is not one of the macro arguments.}}
\DoxyCodeLine{9079   \textcolor{keywordflow}{if} (std::find(MI-\/>param\_begin(), MI-\/>param\_end(), \&II) != MI-\/>param\_end())}
\DoxyCodeLine{9080     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9081 }
\DoxyCodeLine{9082   MacroDirective *InnerMD = PP.getLocalMacroDirectiveHistory(\&II);}
\DoxyCodeLine{9083   \textcolor{keywordflow}{if} (!InnerMD)}
\DoxyCodeLine{9084     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9085 }
\DoxyCodeLine{9086   \textcolor{keywordflow}{return} PPRec-\/>findMacroDefinition(InnerMD-\/>getMacroInfo());}
\DoxyCodeLine{9087 \}}

\end{DoxyCode}
\mbox{\Hypertarget{namespaceclang_1_1cxindex_ac81be1c63a9bbf2e05be99daa2b11750}\label{namespaceclang_1_1cxindex_ac81be1c63a9bbf2e05be99daa2b11750}} 
\index{clang::cxindex@{clang::cxindex}!checkForMacroInMacroDefinition@{checkForMacroInMacroDefinition}}
\index{checkForMacroInMacroDefinition@{checkForMacroInMacroDefinition}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{checkForMacroInMacroDefinition()}{checkForMacroInMacroDefinition()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Macro\+Definition\+Record $\ast$ clang\+::cxindex\+::check\+For\+Macro\+In\+Macro\+Definition (\begin{DoxyParamCaption}\item[{const Macro\+Info $\ast$}]{MI,  }\item[{Source\+Location}]{Loc,  }\item[{CXTranslation\+Unit}]{TU }\end{DoxyParamCaption})}

If {\ttfamily Loc} resides inside the definition of {\ttfamily MI} and it points at an identifier that has ever been a macro name, this returns the latest Macro\+Definition\+Record for that name, otherwise it returns NULL. 

Definition at line 9090 of file CIndex.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{9091                                                               \{}
\DoxyCodeLine{9092   \textcolor{keywordflow}{if} (Loc.isInvalid() || !MI || !TU)}
\DoxyCodeLine{9093     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9094 }
\DoxyCodeLine{9095   \textcolor{keywordflow}{if} (MI-\/>getNumTokens() == 0)}
\DoxyCodeLine{9096     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9097   ASTUnit *Unit = cxtu::getASTUnit(TU);}
\DoxyCodeLine{9098   Preprocessor \&PP = Unit-\/>getPreprocessor();}
\DoxyCodeLine{9099   \textcolor{keywordflow}{if} (!PP.getPreprocessingRecord())}
\DoxyCodeLine{9100     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9101   Loc = Unit-\/>getSourceManager().getSpellingLoc(Loc);}
\DoxyCodeLine{9102   Token Tok;}
\DoxyCodeLine{9103   \textcolor{keywordflow}{if} (PP.getRawToken(Loc, Tok))}
\DoxyCodeLine{9104     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9105 }
\DoxyCodeLine{9106   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceclang_1_1cxindex_ac81be1c63a9bbf2e05be99daa2b11750}{checkForMacroInMacroDefinition}}(MI, Tok, TU);}
\DoxyCodeLine{9107 \}}

\end{DoxyCode}
\mbox{\Hypertarget{namespaceclang_1_1cxindex_af7ce142e794a78913423f48c9d01c78d}\label{namespaceclang_1_1cxindex_af7ce142e794a78913423f48c9d01c78d}} 
\index{clang::cxindex@{clang::cxindex}!getMacroInfo@{getMacroInfo}}
\index{getMacroInfo@{getMacroInfo}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{getMacroInfo()}{getMacroInfo()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Macro\+Info $\ast$ clang\+::cxindex\+::get\+Macro\+Info (\begin{DoxyParamCaption}\item[{const Identifier\+Info \&}]{II,  }\item[{Source\+Location}]{Macro\+Def\+Loc,  }\item[{CXTranslation\+Unit}]{TU }\end{DoxyParamCaption})}

If {\ttfamily Macro\+Def\+Loc} points at a macro definition with {\ttfamily II} as its name, this retrieves its Macro\+Info. 

Definition at line 9015 of file CIndex.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{9017                                                        \{}
\DoxyCodeLine{9018   \textcolor{keywordflow}{if} (MacroDefLoc.isInvalid() || !TU)}
\DoxyCodeLine{9019     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9020   \textcolor{keywordflow}{if} (!II.hadMacroDefinition())}
\DoxyCodeLine{9021     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9022 }
\DoxyCodeLine{9023   ASTUnit *Unit = cxtu::getASTUnit(TU);}
\DoxyCodeLine{9024   Preprocessor \&PP = Unit-\/>getPreprocessor();}
\DoxyCodeLine{9025   MacroDirective *MD = PP.getLocalMacroDirectiveHistory(\&II);}
\DoxyCodeLine{9026   \textcolor{keywordflow}{if} (MD) \{}
\DoxyCodeLine{9027     \textcolor{keywordflow}{for} (MacroDirective::DefInfo Def = MD-\/>getDefinition(); Def;}
\DoxyCodeLine{9028          Def = Def.getPreviousDefinition()) \{}
\DoxyCodeLine{9029       \textcolor{keywordflow}{if} (MacroDefLoc == Def.getMacroInfo()-\/>getDefinitionLoc())}
\DoxyCodeLine{9030         \textcolor{keywordflow}{return} Def.getMacroInfo();}
\DoxyCodeLine{9031     \}}
\DoxyCodeLine{9032   \}}
\DoxyCodeLine{9033 }
\DoxyCodeLine{9034   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9035 \}}

\end{DoxyCode}


Referenced by get\+Macro\+Info().

\mbox{\Hypertarget{namespaceclang_1_1cxindex_a9af76d8fd72b3732e87a672007c73bcd}\label{namespaceclang_1_1cxindex_a9af76d8fd72b3732e87a672007c73bcd}} 
\index{clang::cxindex@{clang::cxindex}!getMacroInfo@{getMacroInfo}}
\index{getMacroInfo@{getMacroInfo}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{getMacroInfo()}{getMacroInfo()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const Macro\+Info $\ast$ clang\+::cxindex\+::get\+Macro\+Info (\begin{DoxyParamCaption}\item[{const Macro\+Definition\+Record $\ast$}]{Macro\+Def,  }\item[{CXTranslation\+Unit}]{TU }\end{DoxyParamCaption})}



Retrieves the corresponding Macro\+Info of a Macro\+Definition\+Record. 



Definition at line 9037 of file CIndex.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{9038                                                              \{}
\DoxyCodeLine{9039   \textcolor{keywordflow}{if} (!MacroDef || !TU)}
\DoxyCodeLine{9040     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9041   \textcolor{keyword}{const} IdentifierInfo *II = MacroDef-\/>getName();}
\DoxyCodeLine{9042   \textcolor{keywordflow}{if} (!II)}
\DoxyCodeLine{9043     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{9044 }
\DoxyCodeLine{9045   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceclang_1_1cxindex_af7ce142e794a78913423f48c9d01c78d}{getMacroInfo}}(*II, MacroDef-\/>getLocation(), TU);}
\DoxyCodeLine{9046 \}}

\end{DoxyCode}


References get\+Macro\+Info().

\mbox{\Hypertarget{namespaceclang_1_1cxindex_a134d158252a9bfcc3db346dd2e65f09f}\label{namespaceclang_1_1cxindex_a134d158252a9bfcc3db346dd2e65f09f}} 
\index{clang::cxindex@{clang::cxindex}!printDiagsToStderr@{printDiagsToStderr}}
\index{printDiagsToStderr@{printDiagsToStderr}!clang::cxindex@{clang::cxindex}}
\doxysubsubsection{\texorpdfstring{printDiagsToStderr()}{printDiagsToStderr()}}
{\footnotesize\ttfamily void clang\+::cxindex\+::print\+Diags\+To\+Stderr (\begin{DoxyParamCaption}\item[{ASTUnit $\ast$}]{Unit }\end{DoxyParamCaption})}



Definition at line 8994 of file CIndex.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{8994                                               \{}
\DoxyCodeLine{8995   \textcolor{keywordflow}{if} (!Unit)}
\DoxyCodeLine{8996     \textcolor{keywordflow}{return};}
\DoxyCodeLine{8997 }
\DoxyCodeLine{8998   \textcolor{keywordflow}{for} (ASTUnit::stored\_diag\_iterator D = Unit-\/>stored\_diag\_begin(),}
\DoxyCodeLine{8999                                      DEnd = Unit-\/>stored\_diag\_end();}
\DoxyCodeLine{9000        D != DEnd; ++D) \{}
\DoxyCodeLine{9001     \mbox{\hyperlink{structclang_1_1_c_x_stored_diagnostic}{CXStoredDiagnostic}} Diag(*D, Unit-\/>getLangOpts());}
\DoxyCodeLine{9002     CXString Msg =}
\DoxyCodeLine{9003         \mbox{\hyperlink{_c_index_diagnostic_8cpp_a3ed169ee4a472764c11724cc7768e6eb}{clang\_formatDiagnostic}}(\&Diag, \mbox{\hyperlink{_c_index_diagnostic_8cpp_a1db1e7c1136fd6d171f47d0b7d4f8bd9}{clang\_defaultDiagnosticDisplayOptions}}());}
\DoxyCodeLine{9004     fprintf(stderr, \textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}}, \mbox{\hyperlink{_c_x_string_8cpp_acd478c1b1785e17c0fe377bd70a2195f}{clang\_getCString}}(Msg));}
\DoxyCodeLine{9005     \mbox{\hyperlink{_c_x_string_8cpp_a46c85f1255580ed186aa6f7380a06883}{clang\_disposeString}}(Msg);}
\DoxyCodeLine{9006   \}}
\DoxyCodeLine{9007 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{9008   \textcolor{comment}{// On Windows, force a flush, since there may be multiple copies of}}
\DoxyCodeLine{9009   \textcolor{comment}{// stderr and stdout in the file system, all with different buffers}}
\DoxyCodeLine{9010   \textcolor{comment}{// but writing to the same device.}}
\DoxyCodeLine{9011   fflush(stderr);}
\DoxyCodeLine{9012 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{9013 \}}

\end{DoxyCode}


References clang\+\_\+default\+Diagnostic\+Display\+Options(), clang\+\_\+dispose\+String(), clang\+\_\+format\+Diagnostic(), and clang\+\_\+get\+CString().

