\hypertarget{classtests_1_1unit_1_1test__report_1_1_parse_file_test}{}\doxysection{tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test Class Reference}
\label{classtests_1_1unit_1_1test__report_1_1_parse_file_test}\index{tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}}
Inheritance diagram for tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classtests_1_1unit_1_1test__report_1_1_parse_file_test}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classtests_1_1unit_1_1test__report_1_1_parse_file_test_a74fa9a6a15bd46a7875fed844a119254}{test\+\_\+parse\+\_\+bug}} (self)
\item 
def \mbox{\hyperlink{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa187e7448e43bd3c4292e493488af957}{test\+\_\+parse\+\_\+bug\+\_\+empty}} (self)
\item 
def \mbox{\hyperlink{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa1476e079542b996cd491d8955eb6ccc}{test\+\_\+parse\+\_\+crash}} (self)
\item 
def \mbox{\hyperlink{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aefdde266de9b1a393939834591d96ade}{test\+\_\+parse\+\_\+real\+\_\+crash}} (self)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 31 of file test\+\_\+report.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtests_1_1unit_1_1test__report_1_1_parse_file_test_a74fa9a6a15bd46a7875fed844a119254}\label{classtests_1_1unit_1_1test__report_1_1_parse_file_test_a74fa9a6a15bd46a7875fed844a119254}} 
\index{tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}!test\_parse\_bug@{test\_parse\_bug}}
\index{test\_parse\_bug@{test\_parse\_bug}!tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}}
\doxysubsubsection{\texorpdfstring{test\_parse\_bug()}{test\_parse\_bug()}}
{\footnotesize\ttfamily def tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test.\+test\+\_\+parse\+\_\+bug (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 33 of file test\+\_\+report.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{33     \textcolor{keyword}{def }test\_parse\_bug(self):}
\DoxyCodeLine{34         content = [}
\DoxyCodeLine{35             \textcolor{stringliteral}{"{}some header\(\backslash\)n"{}},}
\DoxyCodeLine{36             \textcolor{stringliteral}{"{}<!-\/-\/ BUGDESC Division by zero -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{37             \textcolor{stringliteral}{"{}<!-\/-\/ BUGTYPE Division by zero -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{38             \textcolor{stringliteral}{"{}<!-\/-\/ BUGCATEGORY Logic error -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{39             \textcolor{stringliteral}{"{}<!-\/-\/ BUGFILE xx -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{40             \textcolor{stringliteral}{"{}<!-\/-\/ BUGLINE 5 -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{41             \textcolor{stringliteral}{"{}<!-\/-\/ BUGCOLUMN 22 -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{42             \textcolor{stringliteral}{"{}<!-\/-\/ BUGPATHLENGTH 4 -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{43             \textcolor{stringliteral}{"{}<!-\/-\/ BUGMETAEND -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{44             \textcolor{stringliteral}{"{}<!-\/-\/ REPORTHEADER -\/-\/>\(\backslash\)n"{}},}
\DoxyCodeLine{45             \textcolor{stringliteral}{"{}some tails\(\backslash\)n"{}}]}
\DoxyCodeLine{46         result = \mbox{\hyperlink{namespacetests_1_1unit_1_1test__report_a9ab6f02ba4c906569ecabb49c78c8892}{run\_bug\_parse}}(content)}
\DoxyCodeLine{47         self.assertEqual(result[\textcolor{stringliteral}{'bug\_category'}], \textcolor{stringliteral}{'Logic error'})}
\DoxyCodeLine{48         self.assertEqual(result[\textcolor{stringliteral}{'bug\_path\_length'}], 4)}
\DoxyCodeLine{49         self.assertEqual(result[\textcolor{stringliteral}{'bug\_line'}], 5)}
\DoxyCodeLine{50         self.assertEqual(result[\textcolor{stringliteral}{'bug\_description'}], \textcolor{stringliteral}{'Division by zero'})}
\DoxyCodeLine{51         self.assertEqual(result[\textcolor{stringliteral}{'bug\_type'}], \textcolor{stringliteral}{'Division by zero'})}
\DoxyCodeLine{52         self.assertEqual(result[\textcolor{stringliteral}{'bug\_file'}], \textcolor{stringliteral}{'xx'})}
\DoxyCodeLine{53 }

\end{DoxyCode}


References tests.\+unit.\+test\+\_\+report.\+run\+\_\+bug\+\_\+parse().

\mbox{\Hypertarget{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa187e7448e43bd3c4292e493488af957}\label{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa187e7448e43bd3c4292e493488af957}} 
\index{tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}!test\_parse\_bug\_empty@{test\_parse\_bug\_empty}}
\index{test\_parse\_bug\_empty@{test\_parse\_bug\_empty}!tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}}
\doxysubsubsection{\texorpdfstring{test\_parse\_bug\_empty()}{test\_parse\_bug\_empty()}}
{\footnotesize\ttfamily def tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test.\+test\+\_\+parse\+\_\+bug\+\_\+empty (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 54 of file test\+\_\+report.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{54     \textcolor{keyword}{def }test\_parse\_bug\_empty(self):}
\DoxyCodeLine{55         content = []}
\DoxyCodeLine{56         result = \mbox{\hyperlink{namespacetests_1_1unit_1_1test__report_a9ab6f02ba4c906569ecabb49c78c8892}{run\_bug\_parse}}(content)}
\DoxyCodeLine{57         self.assertEqual(result[\textcolor{stringliteral}{'bug\_category'}], \textcolor{stringliteral}{'Other'})}
\DoxyCodeLine{58         self.assertEqual(result[\textcolor{stringliteral}{'bug\_path\_length'}], 1)}
\DoxyCodeLine{59         self.assertEqual(result[\textcolor{stringliteral}{'bug\_line'}], 0)}
\DoxyCodeLine{60 }

\end{DoxyCode}


References tests.\+unit.\+test\+\_\+report.\+run\+\_\+bug\+\_\+parse().

\mbox{\Hypertarget{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa1476e079542b996cd491d8955eb6ccc}\label{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aa1476e079542b996cd491d8955eb6ccc}} 
\index{tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}!test\_parse\_crash@{test\_parse\_crash}}
\index{test\_parse\_crash@{test\_parse\_crash}!tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}}
\doxysubsubsection{\texorpdfstring{test\_parse\_crash()}{test\_parse\_crash()}}
{\footnotesize\ttfamily def tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test.\+test\+\_\+parse\+\_\+crash (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 61 of file test\+\_\+report.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{61     \textcolor{keyword}{def }test\_parse\_crash(self):}
\DoxyCodeLine{62         content = [}
\DoxyCodeLine{63             \textcolor{stringliteral}{"{}/some/path/file.c\(\backslash\)n"{}},}
\DoxyCodeLine{64             \textcolor{stringliteral}{"{}Some very serious Error\(\backslash\)n"{}},}
\DoxyCodeLine{65             \textcolor{stringliteral}{"{}bla\(\backslash\)n"{}},}
\DoxyCodeLine{66             \textcolor{stringliteral}{"{}bla-\/bla\(\backslash\)n"{}}]}
\DoxyCodeLine{67         result = \mbox{\hyperlink{namespacetests_1_1unit_1_1test__report_af324b6cd4124f464bf262d94e6633f2d}{run\_crash\_parse}}(content, \textcolor{stringliteral}{'file.i'})}
\DoxyCodeLine{68         self.assertEqual(result[\textcolor{stringliteral}{'source'}], content[0].rstrip())}
\DoxyCodeLine{69         self.assertEqual(result[\textcolor{stringliteral}{'problem'}], content[1].rstrip())}
\DoxyCodeLine{70         self.assertEqual(os.path.basename(result[\textcolor{stringliteral}{'file'}]),}
\DoxyCodeLine{71                          \textcolor{stringliteral}{'file.i'})}
\DoxyCodeLine{72         self.assertEqual(os.path.basename(result[\textcolor{stringliteral}{'info'}]),}
\DoxyCodeLine{73                          \textcolor{stringliteral}{'file.i.info.txt'})}
\DoxyCodeLine{74         self.assertEqual(os.path.basename(result[\textcolor{stringliteral}{'stderr'}]),}
\DoxyCodeLine{75                          \textcolor{stringliteral}{'file.i.stderr.txt'})}
\DoxyCodeLine{76 }

\end{DoxyCode}


References tests.\+unit.\+test\+\_\+report.\+run\+\_\+crash\+\_\+parse().

\mbox{\Hypertarget{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aefdde266de9b1a393939834591d96ade}\label{classtests_1_1unit_1_1test__report_1_1_parse_file_test_aefdde266de9b1a393939834591d96ade}} 
\index{tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}!test\_parse\_real\_crash@{test\_parse\_real\_crash}}
\index{test\_parse\_real\_crash@{test\_parse\_real\_crash}!tests.unit.test\_report.ParseFileTest@{tests.unit.test\_report.ParseFileTest}}
\doxysubsubsection{\texorpdfstring{test\_parse\_real\_crash()}{test\_parse\_real\_crash()}}
{\footnotesize\ttfamily def tests.\+unit.\+test\+\_\+report.\+Parse\+File\+Test.\+test\+\_\+parse\+\_\+real\+\_\+crash (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 77 of file test\+\_\+report.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{77     \textcolor{keyword}{def }test\_parse\_real\_crash(self):}
\DoxyCodeLine{78         \textcolor{keyword}{import} \mbox{\hyperlink{namespacelibscanbuild_1_1analyze}{libscanbuild.analyze}} \textcolor{keyword}{as} sut2}
\DoxyCodeLine{79         \textcolor{keyword}{import} re}
\DoxyCodeLine{80         \textcolor{keyword}{with} \mbox{\hyperlink{namespacelibear_a44657565063241a3d383ec724243c023}{libear.TemporaryDirectory}}() \textcolor{keyword}{as} tmpdir:}
\DoxyCodeLine{81             filename = os.path.join(tmpdir, \textcolor{stringliteral}{'test.c'})}
\DoxyCodeLine{82             \textcolor{keyword}{with} \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(filename, \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} handle:}
\DoxyCodeLine{83                 handle.write(\textcolor{stringliteral}{'int main() \{ return 0'})}
\DoxyCodeLine{84             \textcolor{comment}{\# produce failure report}}
\DoxyCodeLine{85             opts = \{}
\DoxyCodeLine{86                 \textcolor{stringliteral}{'clang'}: \textcolor{stringliteral}{'clang'},}
\DoxyCodeLine{87                 \textcolor{stringliteral}{'directory'}: os.getcwd(),}
\DoxyCodeLine{88                 \textcolor{stringliteral}{'flags'}: [],}
\DoxyCodeLine{89                 \textcolor{stringliteral}{'file'}: filename,}
\DoxyCodeLine{90                 \textcolor{stringliteral}{'output\_dir'}: tmpdir,}
\DoxyCodeLine{91                 \textcolor{stringliteral}{'language'}: \textcolor{stringliteral}{'c'},}
\DoxyCodeLine{92                 \textcolor{stringliteral}{'error\_type'}: \textcolor{stringliteral}{'other\_error'},}
\DoxyCodeLine{93                 \textcolor{stringliteral}{'error\_output'}: \textcolor{stringliteral}{'some output'},}
\DoxyCodeLine{94                 \textcolor{stringliteral}{'exit\_code'}: 13}
\DoxyCodeLine{95             \}}
\DoxyCodeLine{96             sut2.report\_failure(opts)}
\DoxyCodeLine{97             \textcolor{comment}{\# find the info file}}
\DoxyCodeLine{98             pp\_file = \textcolor{keywordtype}{None}}
\DoxyCodeLine{99             \textcolor{keywordflow}{for} root, \_, files \textcolor{keywordflow}{in} os.walk(tmpdir):}
\DoxyCodeLine{100                 keys = [os.path.join(root, name) \textcolor{keywordflow}{for} name \textcolor{keywordflow}{in} files]}
\DoxyCodeLine{101                 \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} keys:}
\DoxyCodeLine{102                     \textcolor{keywordflow}{if} re.match(\textcolor{stringliteral}{r'\string^(.*/)+clang(.*)\(\backslash\).i\$'}, key):}
\DoxyCodeLine{103                         pp\_file = key}
\DoxyCodeLine{104             self.assertIsNot(pp\_file, \textcolor{keywordtype}{None})}
\DoxyCodeLine{105             \textcolor{comment}{\# read the failure report back}}
\DoxyCodeLine{106             result = sut.parse\_crash(pp\_file + \textcolor{stringliteral}{'.info.txt'})}
\DoxyCodeLine{107             self.assertEqual(result[\textcolor{stringliteral}{'source'}], filename)}
\DoxyCodeLine{108             self.assertEqual(result[\textcolor{stringliteral}{'problem'}], \textcolor{stringliteral}{'Other Error'})}
\DoxyCodeLine{109             self.assertEqual(result[\textcolor{stringliteral}{'file'}], pp\_file)}
\DoxyCodeLine{110             self.assertEqual(result[\textcolor{stringliteral}{'info'}], pp\_file + \textcolor{stringliteral}{'.info.txt'})}
\DoxyCodeLine{111             self.assertEqual(result[\textcolor{stringliteral}{'stderr'}], pp\_file + \textcolor{stringliteral}{'.stderr.txt'})}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 }

\end{DoxyCode}


References startfile.\+open(), and libear.\+Temporary\+Directory().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/scan-\/build-\/py/tests/unit/\mbox{\hyperlink{test__report_8py}{test\+\_\+report.\+py}}\end{DoxyCompactItemize}
