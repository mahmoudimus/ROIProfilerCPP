\hypertarget{classclang_1_1cxindex_1_1_scratch_alloc}{}\doxysection{clang\+::cxindex\+::Scratch\+Alloc Class Reference}
\label{classclang_1_1cxindex_1_1_scratch_alloc}\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}


{\ttfamily \#include $<$CXIndex\+Data\+Consumer.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_a0dab0d715a86655624ef685144ec7fd1}{Scratch\+Alloc}} (\mbox{\hyperlink{classclang_1_1cxindex_1_1_c_x_index_data_consumer}{CXIndex\+Data\+Consumer}} \&index\+Ctx)
\item 
\mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_a27b07066fd4f2584aee1ef54897805fd}{Scratch\+Alloc}} (const \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc}{Scratch\+Alloc}} \&SA)
\item 
\mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_ab690f7f15d9c9593a00f35ad4fa11744}{$\sim$\+Scratch\+Alloc}} ()
\item 
const char $\ast$ \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_a7b5b9de515cd117bc6a0d5a6a667b568}{to\+CStr}} (String\+Ref Str)
\item 
const char $\ast$ \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_ada48af8bcc8f64c0645b5e86fed0af62}{copy\+CStr}} (String\+Ref Str)
\item 
{\footnotesize template$<$typename T $>$ }\\T $\ast$ \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_a71642187ca6f26d231a5426b5a4aa254}{allocate}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 32 of file CXIndex\+Data\+Consumer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_a0dab0d715a86655624ef685144ec7fd1}\label{classclang_1_1cxindex_1_1_scratch_alloc_a0dab0d715a86655624ef685144ec7fd1}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!ScratchAlloc@{ScratchAlloc}}
\index{ScratchAlloc@{ScratchAlloc}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{ScratchAlloc()}{ScratchAlloc()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily clang\+::cxindex\+::\+Scratch\+Alloc\+::\+Scratch\+Alloc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classclang_1_1cxindex_1_1_c_x_index_data_consumer}{CXIndex\+Data\+Consumer}} \&}]{index\+Ctx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 481 of file CXIndex\+Data\+Consumer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{481                                                              : IdxCtx(idxCtx) \{}
\DoxyCodeLine{482   ++IdxCtx.StrAdapterCount;}
\DoxyCodeLine{483 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_a27b07066fd4f2584aee1ef54897805fd}\label{classclang_1_1cxindex_1_1_scratch_alloc_a27b07066fd4f2584aee1ef54897805fd}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!ScratchAlloc@{ScratchAlloc}}
\index{ScratchAlloc@{ScratchAlloc}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{ScratchAlloc()}{ScratchAlloc()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily clang\+::cxindex\+::\+Scratch\+Alloc\+::\+Scratch\+Alloc (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc}{Scratch\+Alloc}} \&}]{SA }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 484 of file CXIndex\+Data\+Consumer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{484                                                         : IdxCtx(SA.IdxCtx) \{}
\DoxyCodeLine{485   ++IdxCtx.StrAdapterCount;}
\DoxyCodeLine{486 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_ab690f7f15d9c9593a00f35ad4fa11744}\label{classclang_1_1cxindex_1_1_scratch_alloc_ab690f7f15d9c9593a00f35ad4fa11744}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!````~ScratchAlloc@{$\sim$ScratchAlloc}}
\index{````~ScratchAlloc@{$\sim$ScratchAlloc}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{$\sim$ScratchAlloc()}{~ScratchAlloc()}}
{\footnotesize\ttfamily clang\+::cxindex\+::\+Scratch\+Alloc\+::$\sim$\+Scratch\+Alloc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 488 of file CXIndex\+Data\+Consumer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{488                                    \{}
\DoxyCodeLine{489   -\/-\/IdxCtx.StrAdapterCount;}
\DoxyCodeLine{490   \textcolor{keywordflow}{if} (IdxCtx.StrAdapterCount == 0)}
\DoxyCodeLine{491     IdxCtx.StrScratch.Reset();}
\DoxyCodeLine{492 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_a71642187ca6f26d231a5426b5a4aa254}\label{classclang_1_1cxindex_1_1_scratch_alloc_a71642187ca6f26d231a5426b5a4aa254}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!allocate@{allocate}}
\index{allocate@{allocate}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{allocate()}{allocate()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
T $\ast$ clang\+::cxindex\+::\+Scratch\+Alloc\+::allocate\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 495 of file CXIndex\+Data\+Consumer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{495                                  \{}
\DoxyCodeLine{496   \textcolor{keywordflow}{return} IdxCtx.StrScratch.Allocate<T>();}
\DoxyCodeLine{497 \}}

\end{DoxyCode}


Referenced by clang\+::cxindex\+::\+Attr\+List\+Info\+::create().

\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_ada48af8bcc8f64c0645b5e86fed0af62}\label{classclang_1_1cxindex_1_1_scratch_alloc_ada48af8bcc8f64c0645b5e86fed0af62}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!copyCStr@{copyCStr}}
\index{copyCStr@{copyCStr}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{copyCStr()}{copyCStr()}}
{\footnotesize\ttfamily const char $\ast$ Scratch\+Alloc\+::copy\+CStr (\begin{DoxyParamCaption}\item[{String\+Ref}]{Str }\end{DoxyParamCaption})}



Definition at line 404 of file CXIndex\+Data\+Consumer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{404                                                 \{}
\DoxyCodeLine{405   \textcolor{keywordtype}{char} *buf = IdxCtx.StrScratch.Allocate<\textcolor{keywordtype}{char}>(Str.size() + 1);}
\DoxyCodeLine{406   std::uninitialized\_copy(Str.begin(), Str.end(), buf);}
\DoxyCodeLine{407   buf[Str.size()] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{408   \textcolor{keywordflow}{return} buf;}
\DoxyCodeLine{409 \}}

\end{DoxyCode}


Referenced by to\+CStr().

\mbox{\Hypertarget{classclang_1_1cxindex_1_1_scratch_alloc_a7b5b9de515cd117bc6a0d5a6a667b568}\label{classclang_1_1cxindex_1_1_scratch_alloc_a7b5b9de515cd117bc6a0d5a6a667b568}} 
\index{clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}!toCStr@{toCStr}}
\index{toCStr@{toCStr}!clang::cxindex::ScratchAlloc@{clang::cxindex::ScratchAlloc}}
\doxysubsubsection{\texorpdfstring{toCStr()}{toCStr()}}
{\footnotesize\ttfamily const char $\ast$ Scratch\+Alloc\+::to\+CStr (\begin{DoxyParamCaption}\item[{String\+Ref}]{Str }\end{DoxyParamCaption})}



Definition at line 396 of file CXIndex\+Data\+Consumer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{396                                               \{}
\DoxyCodeLine{397   \textcolor{keywordflow}{if} (Str.empty())}
\DoxyCodeLine{398     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{399   \textcolor{keywordflow}{if} (Str.data()[Str.size()] == \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{400     \textcolor{keywordflow}{return} Str.data();}
\DoxyCodeLine{401   \textcolor{keywordflow}{return} \mbox{\hyperlink{classclang_1_1cxindex_1_1_scratch_alloc_ada48af8bcc8f64c0645b5e86fed0af62}{copyCStr}}(Str);}
\DoxyCodeLine{402 \}}

\end{DoxyCode}


References copy\+CStr().



Referenced by clang\+::cxindex\+::\+CXIndex\+Data\+Consumer\+::pp\+Included\+File().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/libclang/\mbox{\hyperlink{_c_x_index_data_consumer_8h}{CXIndex\+Data\+Consumer.\+h}}\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/libclang/\mbox{\hyperlink{_c_x_index_data_consumer_8cpp}{CXIndex\+Data\+Consumer.\+cpp}}\end{DoxyCompactItemize}
