\hypertarget{class_file_handler}{}\doxysection{File\+Handler Class Reference}
\label{class_file_handler}\index{FileHandler@{FileHandler}}


Generic file handler interface.  


Inheritance diagram for File\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_file_handler}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_file_handler_1_1_bundle_info}{Bundle\+Info}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_file_handler_a0d1ac8e9911e19255e8b2d99c2d93f43}{File\+Handler}} ()
\item 
virtual \mbox{\hyperlink{class_file_handler_a7763aaf84828a6eaaa5f14daca6b0797}{$\sim$\+File\+Handler}} ()
\item 
virtual Error \mbox{\hyperlink{class_file_handler_a0b973008bf7d7a53bc33d0f75b0dadef}{Read\+Header}} (Memory\+Buffer \&Input)=0
\item 
virtual Expected$<$ Optional$<$ String\+Ref $>$ $>$ \mbox{\hyperlink{class_file_handler_a5b31037af59fa8c77b8287d8ae9d84c4}{Read\+Bundle\+Start}} (Memory\+Buffer \&Input)=0
\item 
virtual Error \mbox{\hyperlink{class_file_handler_a0dc30eeb824c348cc6f9bba853c93c41}{Read\+Bundle\+End}} (Memory\+Buffer \&Input)=0
\begin{DoxyCompactList}\small\item\em Read the marker that closes the current bundle. \end{DoxyCompactList}\item 
virtual Error \mbox{\hyperlink{class_file_handler_a6e4e497d5160eff3cab43dfdfd7e2a13}{Read\+Bundle}} (raw\+\_\+ostream \&OS, Memory\+Buffer \&Input)=0
\begin{DoxyCompactList}\small\item\em Read the current bundle and write the result into the stream {\itshape OS}. \end{DoxyCompactList}\item 
virtual Error \mbox{\hyperlink{class_file_handler_ab587b57538b319ab796b4f9ac060db56}{Write\+Header}} (raw\+\_\+fd\+\_\+ostream \&OS, Array\+Ref$<$ std\+::unique\+\_\+ptr$<$ Memory\+Buffer $>$$>$ Inputs)=0
\item 
virtual Error \mbox{\hyperlink{class_file_handler_a023196b877e9ab83859f7194e9b38d9e}{Write\+Bundle\+Start}} (raw\+\_\+fd\+\_\+ostream \&OS, String\+Ref Target\+Triple)=0
\item 
virtual Error \mbox{\hyperlink{class_file_handler_a716f51f009426d516f30cd7527f25681}{Write\+Bundle\+End}} (raw\+\_\+fd\+\_\+ostream \&OS, String\+Ref Target\+Triple)=0
\item 
virtual Error \mbox{\hyperlink{class_file_handler_aa308cfef5f3c06d3c15478097799e0e5}{Write\+Bundle}} (raw\+\_\+fd\+\_\+ostream \&OS, Memory\+Buffer \&Input)=0
\begin{DoxyCompactList}\small\item\em Write the bundle from {\itshape Input} into {\itshape OS}. \end{DoxyCompactList}\item 
virtual Error \mbox{\hyperlink{class_file_handler_a70cbb9c0347d248c018e52993a13255b}{list\+Bundle\+IDs}} (Memory\+Buffer \&Input)
\begin{DoxyCompactList}\small\item\em List bundle IDs in {\itshape Input}. \end{DoxyCompactList}\item 
Error \mbox{\hyperlink{class_file_handler_a70ed8dd129df99dcd5d5e42fffd7b125}{for\+Each\+Bundle}} (Memory\+Buffer \&Input, std\+::function$<$ Error(const \mbox{\hyperlink{struct_file_handler_1_1_bundle_info}{Bundle\+Info}} \&)$>$ Func)
\begin{DoxyCompactList}\small\item\em For each bundle in {\itshape Input}, do {\itshape Func}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual Error \mbox{\hyperlink{class_file_handler_af0a452c5014ddb59b9558614d21daaed}{list\+Bundle\+IDs\+Callback}} (Memory\+Buffer \&Input, const \mbox{\hyperlink{struct_file_handler_1_1_bundle_info}{Bundle\+Info}} \&Info)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Generic file handler interface. 

Definition at line 176 of file Clang\+Offload\+Bundler.\+cpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_file_handler_a0d1ac8e9911e19255e8b2d99c2d93f43}\label{class_file_handler_a0d1ac8e9911e19255e8b2d99c2d93f43}} 
\index{FileHandler@{FileHandler}!FileHandler@{FileHandler}}
\index{FileHandler@{FileHandler}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{FileHandler()}{FileHandler()}}
{\footnotesize\ttfamily File\+Handler\+::\+File\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 182 of file Clang\+Offload\+Bundler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{182 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_handler_a7763aaf84828a6eaaa5f14daca6b0797}\label{class_file_handler_a7763aaf84828a6eaaa5f14daca6b0797}} 
\index{FileHandler@{FileHandler}!````~FileHandler@{$\sim$FileHandler}}
\index{````~FileHandler@{$\sim$FileHandler}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{$\sim$FileHandler()}{~FileHandler()}}
{\footnotesize\ttfamily virtual File\+Handler\+::$\sim$\+File\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Definition at line 184 of file Clang\+Offload\+Bundler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{184 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_file_handler_a70ed8dd129df99dcd5d5e42fffd7b125}\label{class_file_handler_a70ed8dd129df99dcd5d5e42fffd7b125}} 
\index{FileHandler@{FileHandler}!forEachBundle@{forEachBundle}}
\index{forEachBundle@{forEachBundle}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{forEachBundle()}{forEachBundle()}}
{\footnotesize\ttfamily Error File\+Handler\+::for\+Each\+Bundle (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input,  }\item[{std\+::function$<$ Error(const \mbox{\hyperlink{struct_file_handler_1_1_bundle_info}{Bundle\+Info}} \&)$>$}]{Func }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



For each bundle in {\itshape Input}, do {\itshape Func}. 



Definition at line 234 of file Clang\+Offload\+Bundler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{235                                                                    \{}
\DoxyCodeLine{236     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{237       Expected<Optional<StringRef>> CurTripleOrErr = \mbox{\hyperlink{class_file_handler_a5b31037af59fa8c77b8287d8ae9d84c4}{ReadBundleStart}}(Input);}
\DoxyCodeLine{238       \textcolor{keywordflow}{if} (!CurTripleOrErr)}
\DoxyCodeLine{239         \textcolor{keywordflow}{return} CurTripleOrErr.takeError();}
\DoxyCodeLine{240 }
\DoxyCodeLine{241       \textcolor{comment}{// No more bundles.}}
\DoxyCodeLine{242       \textcolor{keywordflow}{if} (!*CurTripleOrErr)}
\DoxyCodeLine{243         \textcolor{keywordflow}{break};}
\DoxyCodeLine{244 }
\DoxyCodeLine{245       StringRef CurTriple = **CurTripleOrErr;}
\DoxyCodeLine{246       assert(!CurTriple.empty());}
\DoxyCodeLine{247 }
\DoxyCodeLine{248       BundleInfo Info\{CurTriple\};}
\DoxyCodeLine{249       \textcolor{keywordflow}{if} (Error Err = Func(Info))}
\DoxyCodeLine{250         \textcolor{keywordflow}{return} Err;}
\DoxyCodeLine{251     \}}
\DoxyCodeLine{252     \textcolor{keywordflow}{return} Error::success();}
\DoxyCodeLine{253   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_handler_a70cbb9c0347d248c018e52993a13255b}\label{class_file_handler_a70cbb9c0347d248c018e52993a13255b}} 
\index{FileHandler@{FileHandler}!listBundleIDs@{listBundleIDs}}
\index{listBundleIDs@{listBundleIDs}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{listBundleIDs()}{listBundleIDs()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::list\+Bundle\+IDs (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



List bundle IDs in {\itshape Input}. 



Definition at line 220 of file Clang\+Offload\+Bundler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{220                                                    \{}
\DoxyCodeLine{221     \textcolor{keywordflow}{if} (Error Err = \mbox{\hyperlink{class_file_handler_a0b973008bf7d7a53bc33d0f75b0dadef}{ReadHeader}}(Input))}
\DoxyCodeLine{222       \textcolor{keywordflow}{return} Err;}
\DoxyCodeLine{223 }
\DoxyCodeLine{224     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_file_handler_a70ed8dd129df99dcd5d5e42fffd7b125}{forEachBundle}}(Input, [\&](\textcolor{keyword}{const} BundleInfo \&Info) -\/> Error \{}
\DoxyCodeLine{225       llvm::outs() << Info.BundleID << \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{226       Error Err = \mbox{\hyperlink{class_file_handler_af0a452c5014ddb59b9558614d21daaed}{listBundleIDsCallback}}(Input, Info);}
\DoxyCodeLine{227       \textcolor{keywordflow}{if} (Err)}
\DoxyCodeLine{228         \textcolor{keywordflow}{return} Err;}
\DoxyCodeLine{229       \textcolor{keywordflow}{return} Error::success();}
\DoxyCodeLine{230     \});}
\DoxyCodeLine{231   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_handler_af0a452c5014ddb59b9558614d21daaed}\label{class_file_handler_af0a452c5014ddb59b9558614d21daaed}} 
\index{FileHandler@{FileHandler}!listBundleIDsCallback@{listBundleIDsCallback}}
\index{listBundleIDsCallback@{listBundleIDsCallback}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{listBundleIDsCallback()}{listBundleIDsCallback()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::list\+Bundle\+IDs\+Callback (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input,  }\item[{const \mbox{\hyperlink{struct_file_handler_1_1_bundle_info}{Bundle\+Info}} \&}]{Info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{class_text_file_handler_a87e2401d42b38125b706e0827723d5ec}{Text\+File\+Handler}}.



Definition at line 256 of file Clang\+Offload\+Bundler.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{257                                                               \{}
\DoxyCodeLine{258     \textcolor{keywordflow}{return} Error::success();}
\DoxyCodeLine{259   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_handler_a6e4e497d5160eff3cab43dfdfd7e2a13}\label{class_file_handler_a6e4e497d5160eff3cab43dfdfd7e2a13}} 
\index{FileHandler@{FileHandler}!ReadBundle@{ReadBundle}}
\index{ReadBundle@{ReadBundle}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{ReadBundle()}{ReadBundle()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Read\+Bundle (\begin{DoxyParamCaption}\item[{raw\+\_\+ostream \&}]{OS,  }\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Read the current bundle and write the result into the stream {\itshape OS}. 



Implemented in \mbox{\hyperlink{class_text_file_handler_a9c3c03be3a980778c30eb310515cd8d9}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_a8cf5a7c710bc3c27212d1976c80a8258}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_a03f6f2509a8d6d78e3ab800995f7f779}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_a0dc30eeb824c348cc6f9bba853c93c41}\label{class_file_handler_a0dc30eeb824c348cc6f9bba853c93c41}} 
\index{FileHandler@{FileHandler}!ReadBundleEnd@{ReadBundleEnd}}
\index{ReadBundleEnd@{ReadBundleEnd}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{ReadBundleEnd()}{ReadBundleEnd()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Read\+Bundle\+End (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Read the marker that closes the current bundle. 



Implemented in \mbox{\hyperlink{class_text_file_handler_ac39e2d78fcd9e6bb858e7b6efee23d65}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_ada66ffa9cbb4567b92dc3b371ea01481}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_af938c83df04fa66fe04c7e0563ade0f0}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_a5b31037af59fa8c77b8287d8ae9d84c4}\label{class_file_handler_a5b31037af59fa8c77b8287d8ae9d84c4}} 
\index{FileHandler@{FileHandler}!ReadBundleStart@{ReadBundleStart}}
\index{ReadBundleStart@{ReadBundleStart}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{ReadBundleStart()}{ReadBundleStart()}}
{\footnotesize\ttfamily virtual Expected$<$Optional$<$String\+Ref$>$ $>$ File\+Handler\+::\+Read\+Bundle\+Start (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Read the marker of the next bundled to be read in the file. The bundle name is returned if there is one in the file, or {\ttfamily None} if there are no more bundles to be read. 

Implemented in \mbox{\hyperlink{class_text_file_handler_a6d1891944c44694f060e29b6782ccb23}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_ab8cb60c1eecea680fcdb327779cf66c3}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_a9ca3dc3dc36f16258fdd01844531f129}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_a0b973008bf7d7a53bc33d0f75b0dadef}\label{class_file_handler_a0b973008bf7d7a53bc33d0f75b0dadef}} 
\index{FileHandler@{FileHandler}!ReadHeader@{ReadHeader}}
\index{ReadHeader@{ReadHeader}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{ReadHeader()}{ReadHeader()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Read\+Header (\begin{DoxyParamCaption}\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Update the file handler with information from the header of the bundled file. 

Implemented in \mbox{\hyperlink{class_text_file_handler_a1a17e99dd7b8dc26960f7cf517efe495}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_a721cdcac5b3554e5685c96f4788bc655}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_a4129cf2eeac5c792f546db1e43d5433c}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_aa308cfef5f3c06d3c15478097799e0e5}\label{class_file_handler_aa308cfef5f3c06d3c15478097799e0e5}} 
\index{FileHandler@{FileHandler}!WriteBundle@{WriteBundle}}
\index{WriteBundle@{WriteBundle}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{WriteBundle()}{WriteBundle()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Write\+Bundle (\begin{DoxyParamCaption}\item[{raw\+\_\+fd\+\_\+ostream \&}]{OS,  }\item[{Memory\+Buffer \&}]{Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Write the bundle from {\itshape Input} into {\itshape OS}. 



Implemented in \mbox{\hyperlink{class_text_file_handler_adad2a5ac6ba229cc8142dcf09d707246}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_ae617802036593fc283753c6ddf0ea221}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_ae293c57008f6d941531c76839d0cd371}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_a716f51f009426d516f30cd7527f25681}\label{class_file_handler_a716f51f009426d516f30cd7527f25681}} 
\index{FileHandler@{FileHandler}!WriteBundleEnd@{WriteBundleEnd}}
\index{WriteBundleEnd@{WriteBundleEnd}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{WriteBundleEnd()}{WriteBundleEnd()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Write\+Bundle\+End (\begin{DoxyParamCaption}\item[{raw\+\_\+fd\+\_\+ostream \&}]{OS,  }\item[{String\+Ref}]{Target\+Triple }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Write the marker that closes a bundle for the triple {\itshape Target\+Triple} to {\itshape OS}. 

Implemented in \mbox{\hyperlink{class_text_file_handler_a00f79b24f0428f2e285eaac0963367b5}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_aa0f573b07d6599ba4c403dfd4b43471a}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_ae8babe5e1a76494820097329a35f72ae}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_a023196b877e9ab83859f7194e9b38d9e}\label{class_file_handler_a023196b877e9ab83859f7194e9b38d9e}} 
\index{FileHandler@{FileHandler}!WriteBundleStart@{WriteBundleStart}}
\index{WriteBundleStart@{WriteBundleStart}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{WriteBundleStart()}{WriteBundleStart()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Write\+Bundle\+Start (\begin{DoxyParamCaption}\item[{raw\+\_\+fd\+\_\+ostream \&}]{OS,  }\item[{String\+Ref}]{Target\+Triple }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Write the marker that initiates a bundle for the triple {\itshape Target\+Triple} to {\itshape OS}. 

Implemented in \mbox{\hyperlink{class_text_file_handler_a2820cc3bdbf5f3070206e2a6dfd40b5c}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_a959f87929ecfa735f661b55a38695eda}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_aae0993fd9bf54ca80c3302f5e0810a8e}{Binary\+File\+Handler}}.

\mbox{\Hypertarget{class_file_handler_ab587b57538b319ab796b4f9ac060db56}\label{class_file_handler_ab587b57538b319ab796b4f9ac060db56}} 
\index{FileHandler@{FileHandler}!WriteHeader@{WriteHeader}}
\index{WriteHeader@{WriteHeader}!FileHandler@{FileHandler}}
\doxysubsubsection{\texorpdfstring{WriteHeader()}{WriteHeader()}}
{\footnotesize\ttfamily virtual Error File\+Handler\+::\+Write\+Header (\begin{DoxyParamCaption}\item[{raw\+\_\+fd\+\_\+ostream \&}]{OS,  }\item[{Array\+Ref$<$ std\+::unique\+\_\+ptr$<$ Memory\+Buffer $>$$>$}]{Inputs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Write the header of the bundled file to {\itshape OS} based on the information gathered from {\itshape Inputs}. 

Implemented in \mbox{\hyperlink{class_text_file_handler_a08d81ba747fa631f4487236685048f82}{Text\+File\+Handler}}, \mbox{\hyperlink{class_object_file_handler_a6bad7c10b02f3f50d099204afbc663a0}{Object\+File\+Handler}}, and \mbox{\hyperlink{class_binary_file_handler_ab80cac5e41eaab070a155716de55c84d}{Binary\+File\+Handler}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/clang-\/offload-\/bundler/\mbox{\hyperlink{_clang_offload_bundler_8cpp}{Clang\+Offload\+Bundler.\+cpp}}\end{DoxyCompactItemize}
