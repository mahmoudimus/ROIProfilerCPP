\hypertarget{classclang_1_1_libclang_invocation_reporter}{}\doxysection{clang\+::Libclang\+Invocation\+Reporter Class Reference}
\label{classclang_1_1_libclang_invocation_reporter}\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}


{\ttfamily \#include $<$CIndexer.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}{Operation\+Kind}} \{ \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53ae6f6b50529513b200513042d023bebd9}{Parse\+Operation}}
, \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53a9e4073b2ce3ca4aa47e086ff9479e19d}{Completion\+Operation}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_a2cdb530eb76516c96b5923dad2e243af}{Libclang\+Invocation\+Reporter}} (\mbox{\hyperlink{classclang_1_1_c_indexer}{CIndexer}} \&Idx, \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}{Operation\+Kind}} Op, unsigned Parse\+Options, llvm\+::\+Array\+Ref$<$ const char $\ast$ $>$ Args, llvm\+::\+Array\+Ref$<$ std\+::string $>$ Invocation\+Args, llvm\+::\+Array\+Ref$<$ CXUnsaved\+File $>$ Unsaved\+Files)
\item 
\mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_a3fafbe06dce2b7afdfbc83303b5723f2}{$\sim$\+Libclang\+Invocation\+Reporter}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Logs information about a particular libclang operation like parsing to a new file in the invocation emission path. 

Definition at line 89 of file CIndexer.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}\label{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}} 
\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}!OperationKind@{OperationKind}}
\index{OperationKind@{OperationKind}!clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}
\doxysubsubsection{\texorpdfstring{OperationKind}{OperationKind}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}{clang\+::\+Libclang\+Invocation\+Reporter\+::\+Operation\+Kind}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{ParseOperation@{ParseOperation}!clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}!ParseOperation@{ParseOperation}}}\mbox{\Hypertarget{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53ae6f6b50529513b200513042d023bebd9}\label{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53ae6f6b50529513b200513042d023bebd9}} 
Parse\+Operation&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CompletionOperation@{CompletionOperation}!clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}!CompletionOperation@{CompletionOperation}}}\mbox{\Hypertarget{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53a9e4073b2ce3ca4aa47e086ff9479e19d}\label{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53a9e4073b2ce3ca4aa47e086ff9479e19d}} 
Completion\+Operation&\\
\hline

\end{DoxyEnumFields}


Definition at line 91 of file CIndexer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{91 \{ ParseOperation, CompletionOperation \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classclang_1_1_libclang_invocation_reporter_a2cdb530eb76516c96b5923dad2e243af}\label{classclang_1_1_libclang_invocation_reporter_a2cdb530eb76516c96b5923dad2e243af}} 
\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}!LibclangInvocationReporter@{LibclangInvocationReporter}}
\index{LibclangInvocationReporter@{LibclangInvocationReporter}!clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}
\doxysubsubsection{\texorpdfstring{LibclangInvocationReporter()}{LibclangInvocationReporter()}}
{\footnotesize\ttfamily Libclang\+Invocation\+Reporter\+::\+Libclang\+Invocation\+Reporter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classclang_1_1_c_indexer}{CIndexer}} \&}]{Idx,  }\item[{\mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53}{Operation\+Kind}}}]{Op,  }\item[{unsigned}]{Parse\+Options,  }\item[{llvm\+::\+Array\+Ref$<$ const char $\ast$ $>$}]{Args,  }\item[{llvm\+::\+Array\+Ref$<$ std\+::string $>$}]{Invocation\+Args,  }\item[{llvm\+::\+Array\+Ref$<$ CXUnsaved\+File $>$}]{Unsaved\+Files }\end{DoxyParamCaption})}



Definition at line 152 of file CIndexer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{156                                               \{}
\DoxyCodeLine{157   StringRef Path = Idx.\mbox{\hyperlink{classclang_1_1_c_indexer_a4d18c0143db01294d2152486ba7ca3c4}{getInvocationEmissionPath}}();}
\DoxyCodeLine{158   \textcolor{keywordflow}{if} (Path.empty())}
\DoxyCodeLine{159     \textcolor{keywordflow}{return};}
\DoxyCodeLine{160 }
\DoxyCodeLine{161   \textcolor{comment}{// Create a temporary file for the invocation log.}}
\DoxyCodeLine{162   SmallString<256> TempPath;}
\DoxyCodeLine{163   TempPath = Path;}
\DoxyCodeLine{164   llvm::sys::path::append(TempPath, \textcolor{stringliteral}{"{}libclang-\/\%\%\%\%\%\%\%\%\%\%\%\%"{}});}
\DoxyCodeLine{165   \textcolor{keywordtype}{int} FD;}
\DoxyCodeLine{166   \textcolor{keywordflow}{if} (llvm::sys::fs::createUniqueFile(TempPath, FD, TempPath,}
\DoxyCodeLine{167                                       llvm::sys::fs::OF\_Text))}
\DoxyCodeLine{168     \textcolor{keywordflow}{return};}
\DoxyCodeLine{169   File = std::string(TempPath.begin(), TempPath.end());}
\DoxyCodeLine{170   llvm::raw\_fd\_ostream OS(FD, \textcolor{comment}{/*ShouldClose=*/}\textcolor{keyword}{true});}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   \textcolor{comment}{// Write out the information about the invocation to it.}}
\DoxyCodeLine{173   \textcolor{keyword}{auto} WriteStringKey = [\&OS](StringRef Key, StringRef Value) \{}
\DoxyCodeLine{174     OS << R\textcolor{stringliteral}{"{}("{})"{} << Key << R}\textcolor{stringliteral}{"{}("{}:"{})"{};}}
\DoxyCodeLine{175 \textcolor{stringliteral}{    OS << \mbox{\hyperlink{namespacelibscanbuild_1_1report_a47efadc6b0ae30e761eccc612329a1ef}{llvm::yaml::escape}}(Value) << }\textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{176   \};}
\DoxyCodeLine{177   OS << \textcolor{charliteral}{'\{'};}
\DoxyCodeLine{178   WriteStringKey(\textcolor{stringliteral}{"{}toolchain"{}}, Idx.\mbox{\hyperlink{classclang_1_1_c_indexer_a542a2e3cb09f282f8d456b32770fd4b2}{getClangToolchainPath}}());}
\DoxyCodeLine{179   OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{180   WriteStringKey(\textcolor{stringliteral}{"{}libclang.operation"{}},}
\DoxyCodeLine{181                  Op == \mbox{\hyperlink{classclang_1_1_libclang_invocation_reporter_accdb53ba461fb345cd984aa037eecf53ae6f6b50529513b200513042d023bebd9}{OperationKind::ParseOperation}} ? \textcolor{stringliteral}{"{}parse"{}} : \textcolor{stringliteral}{"{}complete"{}});}
\DoxyCodeLine{182   OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{183   OS << R\textcolor{stringliteral}{"{}("{}libclang.opts"{}:)"{} << ParseOptions;}}
\DoxyCodeLine{184 \textcolor{stringliteral}{  OS << }\textcolor{charliteral}{','};}
\DoxyCodeLine{185   OS << R\textcolor{stringliteral}{"{}("{}args"{}:[)"{};}}
\DoxyCodeLine{186 \textcolor{stringliteral}{  }\textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&I : llvm::enumerate(Args)) \{}
\DoxyCodeLine{187     \textcolor{keywordflow}{if} (I.index())}
\DoxyCodeLine{188       OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{189     OS << \textcolor{charliteral}{'"{}'} << \mbox{\hyperlink{namespacelibscanbuild_1_1report_a47efadc6b0ae30e761eccc612329a1ef}{llvm::yaml::escape}}(I.value()) << \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{190   \}}
\DoxyCodeLine{191   \textcolor{keywordflow}{if} (!InvocationArgs.empty()) \{}
\DoxyCodeLine{192     OS << R\textcolor{stringliteral}{"{}(],"{}invocation-\/args"{}:[)"{};}}
\DoxyCodeLine{193 \textcolor{stringliteral}{    }\textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&I : llvm::enumerate(InvocationArgs)) \{}
\DoxyCodeLine{194       \textcolor{keywordflow}{if} (I.index())}
\DoxyCodeLine{195         OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{196       OS << \textcolor{charliteral}{'"{}'} << \mbox{\hyperlink{namespacelibscanbuild_1_1report_a47efadc6b0ae30e761eccc612329a1ef}{llvm::yaml::escape}}(I.value()) << \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{197     \}}
\DoxyCodeLine{198   \}}
\DoxyCodeLine{199   \textcolor{keywordflow}{if} (!UnsavedFiles.empty()) \{}
\DoxyCodeLine{200     OS << R\textcolor{stringliteral}{"{}(],"{}unsaved\_file\_hashes"{}:[)"{};}}
\DoxyCodeLine{201 \textcolor{stringliteral}{    }\textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&UF : llvm::enumerate(UnsavedFiles)) \{}
\DoxyCodeLine{202       \textcolor{keywordflow}{if} (UF.index())}
\DoxyCodeLine{203         OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{204       OS << \textcolor{charliteral}{'\{'};}
\DoxyCodeLine{205       WriteStringKey(\textcolor{stringliteral}{"{}name"{}}, UF.value().Filename);}
\DoxyCodeLine{206       OS << \textcolor{charliteral}{','};}
\DoxyCodeLine{207       llvm::MD5 Hash;}
\DoxyCodeLine{208       Hash.update(getContents(UF.value()));}
\DoxyCodeLine{209       llvm::MD5::MD5Result Result;}
\DoxyCodeLine{210       Hash.final(Result);}
\DoxyCodeLine{211       SmallString<32> Digest = Result.digest();}
\DoxyCodeLine{212       WriteStringKey(\textcolor{stringliteral}{"{}md5"{}}, Digest);}
\DoxyCodeLine{213       OS << \textcolor{charliteral}{'\}'};}
\DoxyCodeLine{214     \}}
\DoxyCodeLine{215   \}}
\DoxyCodeLine{216   OS << \textcolor{stringliteral}{"{}]\}"{}};}
\DoxyCodeLine{217 \}}

\end{DoxyCode}


References libscanbuild.\+report\+::escape(), clang\+::\+CIndexer\+::get\+Clang\+Toolchain\+Path(), clang\+::\+CIndexer\+::get\+Invocation\+Emission\+Path(), and Parse\+Operation.

\mbox{\Hypertarget{classclang_1_1_libclang_invocation_reporter_a3fafbe06dce2b7afdfbc83303b5723f2}\label{classclang_1_1_libclang_invocation_reporter_a3fafbe06dce2b7afdfbc83303b5723f2}} 
\index{clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}!````~LibclangInvocationReporter@{$\sim$LibclangInvocationReporter}}
\index{````~LibclangInvocationReporter@{$\sim$LibclangInvocationReporter}!clang::LibclangInvocationReporter@{clang::LibclangInvocationReporter}}
\doxysubsubsection{\texorpdfstring{$\sim$LibclangInvocationReporter()}{~LibclangInvocationReporter()}}
{\footnotesize\ttfamily Libclang\+Invocation\+Reporter\+::$\sim$\+Libclang\+Invocation\+Reporter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 219 of file CIndexer.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{219                                                         \{}
\DoxyCodeLine{220   \textcolor{keywordflow}{if} (!File.empty())}
\DoxyCodeLine{221     llvm::sys::fs::remove(File);}
\DoxyCodeLine{222 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/libclang/\mbox{\hyperlink{_c_indexer_8h}{CIndexer.\+h}}\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/libclang/\mbox{\hyperlink{_c_indexer_8cpp}{CIndexer.\+cpp}}\end{DoxyCompactItemize}
