\hypertarget{class_scan_view_1_1_scan_view_request_handler}{}\doxysection{Scan\+View.\+Scan\+View\+Request\+Handler Class Reference}
\label{class_scan_view_1_1_scan_view_request_handler}\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
Inheritance diagram for Scan\+View.\+Scan\+View\+Request\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_scan_view_1_1_scan_view_request_handler}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_af9b37a3075d4a3e1cdfcd07d48cbcd42}{do\+\_\+\+HEAD}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a1318021abb47481ffdbe6acc69177e66}{do\+\_\+\+GET}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a67daf26082ae9476b3f07d7096ef578d}{do\+\_\+\+POST}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a818ae0fc92881a90b7377f615f7c0305}{log\+\_\+message}} (self, format, $\ast$args)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_ac3e752b45eaf16835fd37c05d97cbc70}{load\+\_\+report}} (self, report)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_aa30371e0c4b78e98653513388338d367}{load\+\_\+crashes}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a28210d2673ceb6009969867751b29efc}{handle\+\_\+exception}} (self, exc)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_ad8f22c121bbd7687e049e36b3725c677}{get\+\_\+scalar\+\_\+field}} (self, name)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a12997f4b65d994a8ce915855c2282835}{submit\+\_\+bug}} (self, c)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a0913f3b844213d82ee4c849d4c4fad4b}{send\+\_\+report\+\_\+submit}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a3847e2d1c53d512e5c9a6fb4dd7dd29f}{send\+\_\+open\+\_\+report}} (self, report)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a302667d7ca0853ad0eafb5b8e030c64d}{get\+\_\+report\+\_\+context}} (self, report)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a693ea554a85c55ae073cb55e7185c6af}{send\+\_\+report}} (self, report, config\+Overrides=None)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a72138b63ef18bce4d55a57b0ae2c9fa4}{send\+\_\+head}} (self, \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_aa6c98fcb431e0bb6afe73394d8547be6}{fields}}=None)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_ac201abcb9dfa32ef2f65c81de9155c97}{send\+\_\+404}} (self)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a41311fd7ec3ea5bd46022b635cc79559}{send\+\_\+path}} (self, path)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_acfc78f0a065f76837797671ca695322e}{send\+\_\+file}} (self, f, ctype)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_a1e383bae6ec3293b00eed32175864e44}{send\+\_\+string}} (self, s, ctype=\textquotesingle{}text/html\textquotesingle{}, headers=True, mtime=None)
\item 
def \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_af93597a77111c981dc7faee1c82ac42f}{send\+\_\+patched\+\_\+file}} (self, path, ctype)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_aa6c98fcb431e0bb6afe73394d8547be6}{fields}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
string \mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_ae12d1b11b78dbddf4e5db38a2bdc0f21}{server\+\_\+version}} = \char`\"{}Scan\+View\+Server/\char`\"{} + \+\_\+\+\_\+version\+\_\+\+\_\+
\item 
\mbox{\hyperlink{class_scan_view_1_1_scan_view_request_handler_aa090f71298600fe2e88035a295465966}{dynamic\+\_\+mtime}} = time.\+time()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 220 of file Scan\+View.\+py.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a1318021abb47481ffdbe6acc69177e66}\label{class_scan_view_1_1_scan_view_request_handler_a1318021abb47481ffdbe6acc69177e66}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!do\_GET@{do\_GET}}
\index{do\_GET@{do\_GET}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{do\_GET()}{do\_GET()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+GET (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 230 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{230     \textcolor{keyword}{def }do\_GET(self):}
\DoxyCodeLine{231         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{232             SimpleHTTPRequestHandler.do\_GET(self)}
\DoxyCodeLine{233         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{234             self.handle\_exception(e)}
\DoxyCodeLine{235             }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+handle\+\_\+exception().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_af9b37a3075d4a3e1cdfcd07d48cbcd42}\label{class_scan_view_1_1_scan_view_request_handler_af9b37a3075d4a3e1cdfcd07d48cbcd42}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!do\_HEAD@{do\_HEAD}}
\index{do\_HEAD@{do\_HEAD}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{do\_HEAD()}{do\_HEAD()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+HEAD (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 224 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{224     \textcolor{keyword}{def }do\_HEAD(self):}
\DoxyCodeLine{225         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{226             SimpleHTTPRequestHandler.do\_HEAD(self)}
\DoxyCodeLine{227         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{228             self.handle\_exception(e)}
\DoxyCodeLine{229             }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+handle\+\_\+exception().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a67daf26082ae9476b3f07d7096ef578d}\label{class_scan_view_1_1_scan_view_request_handler_a67daf26082ae9476b3f07d7096ef578d}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!do\_POST@{do\_POST}}
\index{do\_POST@{do\_POST}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{do\_POST()}{do\_POST()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+POST (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Serve a POST request.\end{DoxyVerb}
 

Definition at line 236 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{236     \textcolor{keyword}{def }do\_POST(self):}
\DoxyCodeLine{237         \textcolor{stringliteral}{"{}"{}"{}Serve a POST request."{}"{}"{}}}
\DoxyCodeLine{238         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{239             length = self.headers.getheader(\textcolor{stringliteral}{'content-\/length'}) \textcolor{keywordflow}{or} \textcolor{stringliteral}{"{}0"{}}}
\DoxyCodeLine{240             \textcolor{keywordflow}{try}:}
\DoxyCodeLine{241                 length = int(length)}
\DoxyCodeLine{242             \textcolor{keywordflow}{except}:}
\DoxyCodeLine{243                 length = 0}
\DoxyCodeLine{244             content = self.rfile.read(length)}
\DoxyCodeLine{245             fields = \mbox{\hyperlink{namespace_scan_view_a888165eb0c614e524aca2396fbd24d42}{parse\_query}}(content)}
\DoxyCodeLine{246             f = self.send\_head(fields)}
\DoxyCodeLine{247             \textcolor{keywordflow}{if} f:}
\DoxyCodeLine{248                 self.copyfile(f, self.wfile)}
\DoxyCodeLine{249                 f.close()}
\DoxyCodeLine{250         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:}
\DoxyCodeLine{251             self.handle\_exception(e)            }
\DoxyCodeLine{252 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+handle\+\_\+exception(), Scan\+View.\+parse\+\_\+query(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+head().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a302667d7ca0853ad0eafb5b8e030c64d}\label{class_scan_view_1_1_scan_view_request_handler_a302667d7ca0853ad0eafb5b8e030c64d}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!get\_report\_context@{get\_report\_context}}
\index{get\_report\_context@{get\_report\_context}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{get\_report\_context()}{get\_report\_context()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+report\+\_\+context (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{report }\end{DoxyParamCaption})}



Definition at line 441 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{441     \textcolor{keyword}{def }get\_report\_context(self, report):}
\DoxyCodeLine{442         \textcolor{keyword}{class }Context(object):}
\DoxyCodeLine{443             \textcolor{keywordflow}{pass}}
\DoxyCodeLine{444         \textcolor{keywordflow}{if} report \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} report == \textcolor{stringliteral}{'None'}:}
\DoxyCodeLine{445             data = self.load\_crashes()}
\DoxyCodeLine{446             \textcolor{comment}{\# Don't allow empty reports.}}
\DoxyCodeLine{447             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} data:}
\DoxyCodeLine{448                 \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{'No crashes detected!'})}
\DoxyCodeLine{449             c = Context()}
\DoxyCodeLine{450             c.title = \textcolor{stringliteral}{'clang static analyzer failures'}}
\DoxyCodeLine{451 }
\DoxyCodeLine{452             stderrSummary = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{453             \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} data:}
\DoxyCodeLine{454                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'stderr'} \textcolor{keywordflow}{in} item:}
\DoxyCodeLine{455                     path = posixpath.join(self.server.root, item[\textcolor{stringliteral}{'stderr'}])}
\DoxyCodeLine{456                     \textcolor{keywordflow}{if} os.path.exists(path):}
\DoxyCodeLine{457                         lns = itertools.islice(\mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(path), 0, 10)}
\DoxyCodeLine{458                         stderrSummary += \textcolor{stringliteral}{'\%s\(\backslash\)n-\/-\/\(\backslash\)n\%s'} \% (item.get(\textcolor{stringliteral}{'src'}, }
\DoxyCodeLine{459                                                                   \textcolor{stringliteral}{'<unknown>'}),}
\DoxyCodeLine{460                                                          \textcolor{stringliteral}{''}.join(lns))}
\DoxyCodeLine{461 }
\DoxyCodeLine{462             c.description = \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{463 \textcolor{stringliteral}{The clang static analyzer failed on these inputs:}}
\DoxyCodeLine{464 \textcolor{stringliteral}{\%s}}
\DoxyCodeLine{465 \textcolor{stringliteral}{}}
\DoxyCodeLine{466 \textcolor{stringliteral}{STDERR Summary}}
\DoxyCodeLine{467 \textcolor{stringliteral}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{468 \textcolor{stringliteral}{\%s}}
\DoxyCodeLine{469 \textcolor{stringliteral}{"{}"{}"{}} \% (\textcolor{stringliteral}{'\(\backslash\)n'}.join([item.get(\textcolor{stringliteral}{'src'},\textcolor{stringliteral}{'<unknown>'}) \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} data]),}
\DoxyCodeLine{470        stderrSummary)}
\DoxyCodeLine{471             c.reportSource = \textcolor{keywordtype}{None}}
\DoxyCodeLine{472             c.navMarkup = \textcolor{stringliteral}{"{}Report Crashes > "{}}}
\DoxyCodeLine{473             c.files = []}
\DoxyCodeLine{474             \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} data:                }
\DoxyCodeLine{475                 c.files.append(item.get(\textcolor{stringliteral}{'src'},\textcolor{stringliteral}{''}))}
\DoxyCodeLine{476                 c.files.append(posixpath.join(self.server.root,}
\DoxyCodeLine{477                                               item.get(\textcolor{stringliteral}{'file'},\textcolor{stringliteral}{''})))}
\DoxyCodeLine{478                 c.files.append(posixpath.join(self.server.root,}
\DoxyCodeLine{479                                               item.get(\textcolor{stringliteral}{'clangfile'},\textcolor{stringliteral}{''})))}
\DoxyCodeLine{480                 c.files.append(posixpath.join(self.server.root,}
\DoxyCodeLine{481                                               item.get(\textcolor{stringliteral}{'stderr'},\textcolor{stringliteral}{''})))}
\DoxyCodeLine{482                 c.files.append(posixpath.join(self.server.root,}
\DoxyCodeLine{483                                               item.get(\textcolor{stringliteral}{'info'},\textcolor{stringliteral}{''})))}
\DoxyCodeLine{484             \textcolor{comment}{\# Just in case something failed, ignore files which don't}}
\DoxyCodeLine{485             \textcolor{comment}{\# exist.}}
\DoxyCodeLine{486             c.files = [f \textcolor{keywordflow}{for} f \textcolor{keywordflow}{in} c.files}
\DoxyCodeLine{487                        \textcolor{keywordflow}{if} os.path.exists(f) \textcolor{keywordflow}{and} os.path.isfile(f)]}
\DoxyCodeLine{488         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{489             \textcolor{comment}{\# Check that this is a valid report.            }}
\DoxyCodeLine{490             path = posixpath.join(self.server.root, \textcolor{stringliteral}{'report-\/\%s.html'} \% report)}
\DoxyCodeLine{491             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} posixpath.exists(path):}
\DoxyCodeLine{492                 \textcolor{keywordflow}{raise} ValueError(\textcolor{stringliteral}{'Invalid report ID'})}
\DoxyCodeLine{493             keys = self.load\_report(report)}
\DoxyCodeLine{494             c = Context()}
\DoxyCodeLine{495             c.title = keys.get(\textcolor{stringliteral}{'DESC'},\textcolor{stringliteral}{'clang error (unrecognized'})}
\DoxyCodeLine{496             c.description = \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{497 \textcolor{stringliteral}{Bug reported by the clang static analyzer.}}
\DoxyCodeLine{498 \textcolor{stringliteral}{}}
\DoxyCodeLine{499 \textcolor{stringliteral}{Description: \%s}}
\DoxyCodeLine{500 \textcolor{stringliteral}{File: \%s}}
\DoxyCodeLine{501 \textcolor{stringliteral}{Line: \%s}}
\DoxyCodeLine{502 \textcolor{stringliteral}{"{}"{}"{}}\%(c.title, keys.get(\textcolor{stringliteral}{'FILE'},\textcolor{stringliteral}{'<unknown>'}), keys.get(\textcolor{stringliteral}{'LINE'}, \textcolor{stringliteral}{'<unknown>'}))}
\DoxyCodeLine{503             c.reportSource = \textcolor{stringliteral}{'report-\/\%s.html'} \% report}
\DoxyCodeLine{504             c.navMarkup = \textcolor{stringliteral}{"{}"{}"{}<a href="{}/\%s"{}>Report \%s</a> > "{}"{}"{}} \% (c.reportSource,}
\DoxyCodeLine{505                                                                   report)}
\DoxyCodeLine{506 }
\DoxyCodeLine{507             c.files = [path]}
\DoxyCodeLine{508         \textcolor{keywordflow}{return} c}
\DoxyCodeLine{509 }

\end{DoxyCode}


Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report\+\_\+submit().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_ad8f22c121bbd7687e049e36b3725c677}\label{class_scan_view_1_1_scan_view_request_handler_ad8f22c121bbd7687e049e36b3725c677}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!get\_scalar\_field@{get\_scalar\_field}}
\index{get\_scalar\_field@{get\_scalar\_field}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{get\_scalar\_field()}{get\_scalar\_field()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+scalar\+\_\+field (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{name }\end{DoxyParamCaption})}



Definition at line 291 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{291     \textcolor{keyword}{def }get\_scalar\_field(self, name):}
\DoxyCodeLine{292         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{in} self.fields:}
\DoxyCodeLine{293             \textcolor{keywordflow}{return} self.fields[name][0]}
\DoxyCodeLine{294         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{295             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{296 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+fields.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report\+\_\+submit(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+submit\+\_\+bug().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a28210d2673ceb6009969867751b29efc}\label{class_scan_view_1_1_scan_view_request_handler_a28210d2673ceb6009969867751b29efc}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!handle\_exception@{handle\_exception}}
\index{handle\_exception@{handle\_exception}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{handle\_exception()}{handle\_exception()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+handle\+\_\+exception (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{exc }\end{DoxyParamCaption})}



Definition at line 281 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{281     \textcolor{keyword}{def }handle\_exception(self, exc):}
\DoxyCodeLine{282         \textcolor{keyword}{import} traceback}
\DoxyCodeLine{283         s = StringIO()}
\DoxyCodeLine{284         \mbox{\hyperlink{_function_call_decl_8cpp_a388f572c62279f839ee138a9afbdeeb5}{print}}(\textcolor{stringliteral}{"{}INTERNAL ERROR\(\backslash\)n"{}}, file=s)}
\DoxyCodeLine{285         traceback.print\_exc(file=s)}
\DoxyCodeLine{286         f = self.send\_string(s.getvalue(), \textcolor{stringliteral}{'text/plain'})}
\DoxyCodeLine{287         \textcolor{keywordflow}{if} f:}
\DoxyCodeLine{288             self.copyfile(f, self.wfile)}
\DoxyCodeLine{289             f.close()        }
\DoxyCodeLine{290             }

\end{DoxyCode}


References print(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string().



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+GET(), Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+HEAD(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+POST().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_aa30371e0c4b78e98653513388338d367}\label{class_scan_view_1_1_scan_view_request_handler_aa30371e0c4b78e98653513388338d367}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!load\_crashes@{load\_crashes}}
\index{load\_crashes@{load\_crashes}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{load\_crashes()}{load\_crashes()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+load\+\_\+crashes (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 270 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{270     \textcolor{keyword}{def }load\_crashes(self):}
\DoxyCodeLine{271         path = posixpath.join(self.server.root, \textcolor{stringliteral}{'index.html'})}
\DoxyCodeLine{272         data = \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(path).read()}
\DoxyCodeLine{273         problems = []}
\DoxyCodeLine{274         \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} kReportCrashEntryRE.finditer(data):}
\DoxyCodeLine{275             fieldData = item.group(1)}
\DoxyCodeLine{276             fields = dict([i.groups() \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} }
\DoxyCodeLine{277                            kReportCrashEntryKeyValueRE.finditer(fieldData)])}
\DoxyCodeLine{278             problems.append(fields)}
\DoxyCodeLine{279         \textcolor{keywordflow}{return} problems}
\DoxyCodeLine{280 }

\end{DoxyCode}


References startfile.\+open(), and Scan\+View.\+Reporter\+Thread.\+server.

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_ac3e752b45eaf16835fd37c05d97cbc70}\label{class_scan_view_1_1_scan_view_request_handler_ac3e752b45eaf16835fd37c05d97cbc70}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!load\_report@{load\_report}}
\index{load\_report@{load\_report}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{load\_report()}{load\_report()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+load\+\_\+report (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{report }\end{DoxyParamCaption})}



Definition at line 261 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{261     \textcolor{keyword}{def }load\_report(self, report):}
\DoxyCodeLine{262         path = os.path.join(self.server.root, \textcolor{stringliteral}{'report-\/\%s.html'}\%report)}
\DoxyCodeLine{263         data = \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(path).read()}
\DoxyCodeLine{264         keys = \{\}}
\DoxyCodeLine{265         \textcolor{keywordflow}{for} item \textcolor{keywordflow}{in} kBugKeyValueRE.finditer(data):}
\DoxyCodeLine{266             k,v = item.groups()}
\DoxyCodeLine{267             keys[k] = v}
\DoxyCodeLine{268         \textcolor{keywordflow}{return} keys}
\DoxyCodeLine{269 }

\end{DoxyCode}


References startfile.\+open(), and Scan\+View.\+Reporter\+Thread.\+server.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+open\+\_\+report().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a818ae0fc92881a90b7377f615f7c0305}\label{class_scan_view_1_1_scan_view_request_handler_a818ae0fc92881a90b7377f615f7c0305}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!log\_message@{log\_message}}
\index{log\_message@{log\_message}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{log\_message()}{log\_message()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+log\+\_\+message (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{format,  }\item[{$\ast$}]{args }\end{DoxyParamCaption})}



Definition at line 253 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{253     \textcolor{keyword}{def }log\_message(self, format, *args):}
\DoxyCodeLine{254         \textcolor{keywordflow}{if} self.server.options.debug:}
\DoxyCodeLine{255             sys.stderr.write(\textcolor{stringliteral}{"{}\%s: SERVER: \%s -\/ -\/ [\%s] \%s\(\backslash\)n"{}} \%}
\DoxyCodeLine{256                              (sys.argv[0],}
\DoxyCodeLine{257                               self.address\_string(),}
\DoxyCodeLine{258                               self.log\_date\_time\_string(),}
\DoxyCodeLine{259                               format\%args))}
\DoxyCodeLine{260 }

\end{DoxyCode}


References Scan\+View.\+Reporter\+Thread.\+server.

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_ac201abcb9dfa32ef2f65c81de9155c97}\label{class_scan_view_1_1_scan_view_request_handler_ac201abcb9dfa32ef2f65c81de9155c97}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_404@{send\_404}}
\index{send\_404@{send\_404}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_404()}{send\_404()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+404 (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 714 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{714     \textcolor{keyword}{def }send\_404(self):}
\DoxyCodeLine{715         self.send\_error(404, \textcolor{stringliteral}{"{}File not found"{}})}
\DoxyCodeLine{716         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}}
\DoxyCodeLine{717 }

\end{DoxyCode}


Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+patched\+\_\+file(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+path().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_acfc78f0a065f76837797671ca695322e}\label{class_scan_view_1_1_scan_view_request_handler_acfc78f0a065f76837797671ca695322e}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_file@{send\_file}}
\index{send\_file@{send\_file}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_file()}{send\_file()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{f,  }\item[{}]{ctype }\end{DoxyParamCaption})}



Definition at line 736 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{736     \textcolor{keyword}{def }send\_file(self, f, ctype):}
\DoxyCodeLine{737         \textcolor{comment}{\# Patch files to add links, but skip binary files.}}
\DoxyCodeLine{738         self.send\_response(200)}
\DoxyCodeLine{739         self.send\_header(\textcolor{stringliteral}{"{}Content-\/type"{}}, ctype)}
\DoxyCodeLine{740         fs = os.fstat(f.fileno())}
\DoxyCodeLine{741         self.send\_header(\textcolor{stringliteral}{"{}Content-\/Length"{}}, str(fs[6]))}
\DoxyCodeLine{742         self.send\_header(\textcolor{stringliteral}{"{}Last-\/Modified"{}}, self.date\_time\_string(fs.st\_mtime))}
\DoxyCodeLine{743         self.end\_headers()}
\DoxyCodeLine{744         \textcolor{keywordflow}{return} f}
\DoxyCodeLine{745 }

\end{DoxyCode}


Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+path().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a72138b63ef18bce4d55a57b0ae2c9fa4}\label{class_scan_view_1_1_scan_view_request_handler_a72138b63ef18bce4d55a57b0ae2c9fa4}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_head@{send\_head}}
\index{send\_head@{send\_head}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_head()}{send\_head()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+head (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{fields = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 658 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{658     \textcolor{keyword}{def }send\_head(self, fields=None):}
\DoxyCodeLine{659         \textcolor{keywordflow}{if} (self.server.options.onlyServeLocal \textcolor{keywordflow}{and}}
\DoxyCodeLine{660             self.client\_address[0] != \textcolor{stringliteral}{'127.0.0.1'}):}
\DoxyCodeLine{661             \textcolor{keywordflow}{return} self.send\_error(401, \textcolor{stringliteral}{'Unauthorized host.'})}
\DoxyCodeLine{662 }
\DoxyCodeLine{663         \textcolor{keywordflow}{if} fields \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{664             fields = \{\}}
\DoxyCodeLine{665         self.fields = fields}
\DoxyCodeLine{666 }
\DoxyCodeLine{667         o = urlparse(self.path)}
\DoxyCodeLine{668         self.fields = \mbox{\hyperlink{namespace_scan_view_a888165eb0c614e524aca2396fbd24d42}{parse\_query}}(o.query, fields)}
\DoxyCodeLine{669         path = posixpath.normpath(unquote(o.path))}
\DoxyCodeLine{670 }
\DoxyCodeLine{671         \textcolor{comment}{\# Split the components and strip the root prefix.}}
\DoxyCodeLine{672         components = path.split(\textcolor{stringliteral}{'/'})[1:]}
\DoxyCodeLine{673         }
\DoxyCodeLine{674         \textcolor{comment}{\# Special case some top-\/level entries.}}
\DoxyCodeLine{675         \textcolor{keywordflow}{if} components:}
\DoxyCodeLine{676             name = components[0]}
\DoxyCodeLine{677             \textcolor{keywordflow}{if} len(components)==2:}
\DoxyCodeLine{678                 \textcolor{keywordflow}{if} name==\textcolor{stringliteral}{'report'}:}
\DoxyCodeLine{679                     \textcolor{keywordflow}{return} self.send\_report(components[1])}
\DoxyCodeLine{680                 \textcolor{keywordflow}{elif} name==\textcolor{stringliteral}{'open'}:}
\DoxyCodeLine{681                     \textcolor{keywordflow}{return} self.send\_open\_report(components[1])}
\DoxyCodeLine{682             \textcolor{keywordflow}{elif} len(components)==1:}
\DoxyCodeLine{683                 \textcolor{keywordflow}{if} name==\textcolor{stringliteral}{'quit'}:}
\DoxyCodeLine{684                     self.server.halt()}
\DoxyCodeLine{685                     \textcolor{keywordflow}{return} self.send\_string(\textcolor{stringliteral}{'Goodbye.'}, \textcolor{stringliteral}{'text/plain'})}
\DoxyCodeLine{686                 \textcolor{keywordflow}{elif} name==\textcolor{stringliteral}{'report\_submit'}:}
\DoxyCodeLine{687                     \textcolor{keywordflow}{return} self.send\_report\_submit()}
\DoxyCodeLine{688                 \textcolor{keywordflow}{elif} name==\textcolor{stringliteral}{'report\_crashes'}:}
\DoxyCodeLine{689                     overrides = \{ \textcolor{stringliteral}{'ScanView'} : \{\},}
\DoxyCodeLine{690                                   \textcolor{stringliteral}{'Radar'} : \{\},}
\DoxyCodeLine{691                                   \textcolor{stringliteral}{'Email'} : \{\} \}}
\DoxyCodeLine{692                     \textcolor{keywordflow}{for} i,r \textcolor{keywordflow}{in} enumerate(self.server.reporters):}
\DoxyCodeLine{693                         \textcolor{keywordflow}{if} r.getName() == \textcolor{stringliteral}{'Radar'}:}
\DoxyCodeLine{694                             overrides[\textcolor{stringliteral}{'ScanView'}][\textcolor{stringliteral}{'reporter'}] = i}
\DoxyCodeLine{695                             \textcolor{keywordflow}{break}}
\DoxyCodeLine{696                     overrides[\textcolor{stringliteral}{'Radar'}][\textcolor{stringliteral}{'Component'}] = \textcolor{stringliteral}{'llvm -\/ checker'}}
\DoxyCodeLine{697                     overrides[\textcolor{stringliteral}{'Radar'}][\textcolor{stringliteral}{'Component Version'}] = \textcolor{stringliteral}{'X'}}
\DoxyCodeLine{698                     \textcolor{keywordflow}{return} self.send\_report(\textcolor{keywordtype}{None}, overrides)}
\DoxyCodeLine{699                 \textcolor{keywordflow}{elif} name==\textcolor{stringliteral}{'favicon.ico'}:}
\DoxyCodeLine{700                     \textcolor{keywordflow}{return} self.send\_path(posixpath.join(kShare,\textcolor{stringliteral}{'bugcatcher.ico'}))}
\DoxyCodeLine{701         }
\DoxyCodeLine{702         \textcolor{comment}{\# Match directory entries.}}
\DoxyCodeLine{703         \textcolor{keywordflow}{if} components[-\/1] == \textcolor{stringliteral}{''}:}
\DoxyCodeLine{704             components[-\/1] = \textcolor{stringliteral}{'index.html'}}
\DoxyCodeLine{705 }
\DoxyCodeLine{706         relpath = \textcolor{stringliteral}{'/'}.join(components)}
\DoxyCodeLine{707         path = posixpath.join(self.server.root, relpath)}
\DoxyCodeLine{708 }
\DoxyCodeLine{709         \textcolor{keywordflow}{if} self.server.options.debug > 1:}
\DoxyCodeLine{710             \mbox{\hyperlink{_function_call_decl_8cpp_a388f572c62279f839ee138a9afbdeeb5}{print}}(\textcolor{stringliteral}{'\%s: SERVER: sending path "{}\%s"{}'}\%(sys.argv[0],}
\DoxyCodeLine{711                                                                  path), file=sys.stderr)}
\DoxyCodeLine{712         \textcolor{keywordflow}{return} self.send\_path(path)}
\DoxyCodeLine{713 }

\end{DoxyCode}


References Scan\+View.\+Reporter\+Thread.\+server.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+do\+\_\+\+POST().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a3847e2d1c53d512e5c9a6fb4dd7dd29f}\label{class_scan_view_1_1_scan_view_request_handler_a3847e2d1c53d512e5c9a6fb4dd7dd29f}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_open\_report@{send\_open\_report}}
\index{send\_open\_report@{send\_open\_report}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_open\_report()}{send\_open\_report()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+open\+\_\+report (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{report }\end{DoxyParamCaption})}



Definition at line 418 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{418     \textcolor{keyword}{def }send\_open\_report(self, report):}
\DoxyCodeLine{419         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{420             keys = self.load\_report(report)}
\DoxyCodeLine{421         \textcolor{keywordflow}{except} IOError:}
\DoxyCodeLine{422             \textcolor{keywordflow}{return} self.send\_error(400, \textcolor{stringliteral}{'Invalid report.'})}
\DoxyCodeLine{423 }
\DoxyCodeLine{424         file = keys.get(\textcolor{stringliteral}{'FILE'})}
\DoxyCodeLine{425         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} file \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} posixpath.exists(file):}
\DoxyCodeLine{426             \textcolor{keywordflow}{return} self.send\_error(400, \textcolor{stringliteral}{'File does not exist: "{}\%s"{}'} \% file)}
\DoxyCodeLine{427 }
\DoxyCodeLine{428         \textcolor{keyword}{import} startfile}
\DoxyCodeLine{429         \textcolor{keywordflow}{if} self.server.options.debug:}
\DoxyCodeLine{430             \mbox{\hyperlink{_function_call_decl_8cpp_a388f572c62279f839ee138a9afbdeeb5}{print}}(\textcolor{stringliteral}{'\%s: SERVER: opening "{}\%s"{}'}\%(sys.argv[0],}
\DoxyCodeLine{431                                                             file), file=sys.stderr)}
\DoxyCodeLine{432 }
\DoxyCodeLine{433         status = \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{startfile.open}}(file)}
\DoxyCodeLine{434         \textcolor{keywordflow}{if} status:}
\DoxyCodeLine{435             res = \textcolor{stringliteral}{'Opened: "{}\%s"{}'} \% file}
\DoxyCodeLine{436         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{437             res = \textcolor{stringliteral}{'Open failed: "{}\%s"{}'} \% file}
\DoxyCodeLine{438 }
\DoxyCodeLine{439         \textcolor{keywordflow}{return} self.send\_string(res, \textcolor{stringliteral}{'text/plain'})}
\DoxyCodeLine{440 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+load\+\_\+report(), startfile.\+open(), print(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string(), and Scan\+View.\+Reporter\+Thread.\+server.

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_af93597a77111c981dc7faee1c82ac42f}\label{class_scan_view_1_1_scan_view_request_handler_af93597a77111c981dc7faee1c82ac42f}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_patched\_file@{send\_patched\_file}}
\index{send\_patched\_file@{send\_patched\_file}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_patched\_file()}{send\_patched\_file()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+patched\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path,  }\item[{}]{ctype }\end{DoxyParamCaption})}



Definition at line 758 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{758     \textcolor{keyword}{def }send\_patched\_file(self, path, ctype):}
\DoxyCodeLine{759         \textcolor{comment}{\# Allow a very limited set of variables. This is pretty gross.}}
\DoxyCodeLine{760         variables = \{\}}
\DoxyCodeLine{761         variables[\textcolor{stringliteral}{'report'}] = \textcolor{stringliteral}{''}}
\DoxyCodeLine{762         m = kReportFileRE.match(path)}
\DoxyCodeLine{763         \textcolor{keywordflow}{if} m:}
\DoxyCodeLine{764             variables[\textcolor{stringliteral}{'report'}] = m.group(2)}
\DoxyCodeLine{765 }
\DoxyCodeLine{766         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{767             f = \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(path,\textcolor{stringliteral}{'rb'})}
\DoxyCodeLine{768         \textcolor{keywordflow}{except} IOError:}
\DoxyCodeLine{769             \textcolor{keywordflow}{return} self.send\_404()}
\DoxyCodeLine{770         fs = os.fstat(f.fileno())}
\DoxyCodeLine{771         data = f.read().\mbox{\hyperlink{namespacelibscanbuild_1_1shell_ae2a3d56a48c3f8031021d617491be88c}{decode}}(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{772         \textcolor{keywordflow}{for} a,b \textcolor{keywordflow}{in} kReportReplacements:}
\DoxyCodeLine{773             data = a.sub(b \% variables, data)}
\DoxyCodeLine{774         \textcolor{keywordflow}{return} self.send\_string(data, ctype, mtime=fs.st\_mtime)}
\DoxyCodeLine{775 }
\DoxyCodeLine{776 }

\end{DoxyCode}


References libscanbuild.\+shell.\+decode(), startfile.\+open(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+404(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string().



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+path().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a41311fd7ec3ea5bd46022b635cc79559}\label{class_scan_view_1_1_scan_view_request_handler_a41311fd7ec3ea5bd46022b635cc79559}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_path@{send\_path}}
\index{send\_path@{send\_path}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_path()}{send\_path()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+path (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})}



Definition at line 718 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{718     \textcolor{keyword}{def }send\_path(self, path):}
\DoxyCodeLine{719         \textcolor{comment}{\# If the requested path is outside the root directory, do not open it}}
\DoxyCodeLine{720         rel = os.path.abspath(path)}
\DoxyCodeLine{721         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} rel.startswith(os.path.abspath(self.server.root)):}
\DoxyCodeLine{722           \textcolor{keywordflow}{return} self.send\_404()}
\DoxyCodeLine{723         }
\DoxyCodeLine{724         ctype = self.guess\_type(path)}
\DoxyCodeLine{725         \textcolor{keywordflow}{if} ctype.startswith(\textcolor{stringliteral}{'text/'}):}
\DoxyCodeLine{726             \textcolor{comment}{\# Patch file instead}}
\DoxyCodeLine{727             \textcolor{keywordflow}{return} self.send\_patched\_file(path, ctype)}
\DoxyCodeLine{728         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{729             mode = \textcolor{stringliteral}{'rb'}}
\DoxyCodeLine{730         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{731             f = \mbox{\hyperlink{namespacestartfile_aa582f75134b683dc321c07d01ff8e501}{open}}(path, mode)}
\DoxyCodeLine{732         \textcolor{keywordflow}{except} IOError:}
\DoxyCodeLine{733             \textcolor{keywordflow}{return} self.send\_404()}
\DoxyCodeLine{734         \textcolor{keywordflow}{return} self.send\_file(f, ctype)}
\DoxyCodeLine{735 }

\end{DoxyCode}


References startfile.\+open(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+404(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+file(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+patched\+\_\+file(), and Scan\+View.\+Reporter\+Thread.\+server.

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a693ea554a85c55ae073cb55e7185c6af}\label{class_scan_view_1_1_scan_view_request_handler_a693ea554a85c55ae073cb55e7185c6af}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_report@{send\_report}}
\index{send\_report@{send\_report}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_report()}{send\_report()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{report,  }\item[{}]{config\+Overrides = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 510 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{510     \textcolor{keyword}{def }send\_report(self, report, configOverrides=None):}
\DoxyCodeLine{511         \textcolor{keyword}{def }getConfigOption(section, field):            }
\DoxyCodeLine{512             \textcolor{keywordflow}{if} (configOverrides \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and}}
\DoxyCodeLine{513                 section \textcolor{keywordflow}{in} configOverrides \textcolor{keywordflow}{and}}
\DoxyCodeLine{514                 field \textcolor{keywordflow}{in} configOverrides[section]):}
\DoxyCodeLine{515                 \textcolor{keywordflow}{return} configOverrides[section][field]}
\DoxyCodeLine{516             \textcolor{keywordflow}{return} self.server.config.get(section, field)}
\DoxyCodeLine{517 }
\DoxyCodeLine{518         \textcolor{comment}{\# report is None is used for crashes}}
\DoxyCodeLine{519         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{520             c = self.get\_report\_context(report)}
\DoxyCodeLine{521         \textcolor{keywordflow}{except} ValueError \textcolor{keyword}{as} e:}
\DoxyCodeLine{522             \textcolor{keywordflow}{return} self.send\_error(400, e.message)}
\DoxyCodeLine{523 }
\DoxyCodeLine{524         title = c.title}
\DoxyCodeLine{525         description= c.description}
\DoxyCodeLine{526         reportingFor = c.navMarkup}
\DoxyCodeLine{527         \textcolor{keywordflow}{if} c.reportSource \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{528             extraIFrame = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{529         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{530             extraIFrame = \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{531 \textcolor{stringliteral}{<iframe src="{}/\%s"{} width="{}100\%\%"{} height="{}40\%\%"{}}}
\DoxyCodeLine{532 \textcolor{stringliteral}{        scrolling="{}auto"{} frameborder="{}1"{}>}}
\DoxyCodeLine{533 \textcolor{stringliteral}{  <a href="{}/\%s"{}>View Bug Report</a>}}
\DoxyCodeLine{534 \textcolor{stringliteral}{</iframe>"{}"{}"{}} \% (c.reportSource, c.reportSource)}
\DoxyCodeLine{535 }
\DoxyCodeLine{536         reporterSelections = []}
\DoxyCodeLine{537         reporterOptions = []}
\DoxyCodeLine{538 }
\DoxyCodeLine{539         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{540             active = int(getConfigOption(\textcolor{stringliteral}{'ScanView'},\textcolor{stringliteral}{'reporter'}))}
\DoxyCodeLine{541         \textcolor{keywordflow}{except}:}
\DoxyCodeLine{542             active = 0}
\DoxyCodeLine{543         \textcolor{keywordflow}{for} i,r \textcolor{keywordflow}{in} enumerate(self.server.reporters):}
\DoxyCodeLine{544             selected = (i == active)}
\DoxyCodeLine{545             \textcolor{keywordflow}{if} selected:}
\DoxyCodeLine{546                 selectedStr = \textcolor{stringliteral}{' selected'}}
\DoxyCodeLine{547             \textcolor{keywordflow}{else}:}
\DoxyCodeLine{548                 selectedStr = \textcolor{stringliteral}{''}}
\DoxyCodeLine{549             reporterSelections.append(\textcolor{stringliteral}{'<option value="{}\%d"{}\%s>\%s</option>'}\%(i,selectedStr,r.getName()))}
\DoxyCodeLine{550             options = \textcolor{stringliteral}{'\(\backslash\)n'}.join([ o.getHTML(r,title,getConfigOption) \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} r.getParameters()])}
\DoxyCodeLine{551             display = (\textcolor{stringliteral}{'none'},\textcolor{stringliteral}{''})[selected]}
\DoxyCodeLine{552             reporterOptions.append(\textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{553 \textcolor{stringliteral}{<tr id="{}\%sReporterOptions"{} style="{}display:\%s"{}>}}
\DoxyCodeLine{554 \textcolor{stringliteral}{  <td class="{}form\_label"{}>\%s Options</td>}}
\DoxyCodeLine{555 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{556 \textcolor{stringliteral}{    <table class="{}form\_inner\_group"{}>}}
\DoxyCodeLine{557 \textcolor{stringliteral}{\%s}}
\DoxyCodeLine{558 \textcolor{stringliteral}{    </table>}}
\DoxyCodeLine{559 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{560 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{561 \textcolor{stringliteral}{"{}"{}"{}}\%(r.getName(),display,r.getName(),options))}
\DoxyCodeLine{562         reporterSelections = \textcolor{stringliteral}{'\(\backslash\)n'}.join(reporterSelections)}
\DoxyCodeLine{563         reporterOptionsDivs = \textcolor{stringliteral}{'\(\backslash\)n'}.join(reporterOptions)}
\DoxyCodeLine{564         reportersArray = \textcolor{stringliteral}{'[\%s]'}\%(\textcolor{stringliteral}{','}.join([repr(r.getName()) \textcolor{keywordflow}{for} r \textcolor{keywordflow}{in} self.server.reporters]))}
\DoxyCodeLine{565 }
\DoxyCodeLine{566         \textcolor{keywordflow}{if} c.files:}
\DoxyCodeLine{567             fieldSize = min(5, len(c.files))}
\DoxyCodeLine{568             attachFileOptions = \textcolor{stringliteral}{'\(\backslash\)n'}.join([\textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{569 \textcolor{stringliteral}{<option value="{}\%d"{} selected>\%s</option>"{}"{}"{}} \% (i,v) \textcolor{keywordflow}{for} i,v \textcolor{keywordflow}{in} enumerate(c.files)])}
\DoxyCodeLine{570             attachFileRow = \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{571 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{572 \textcolor{stringliteral}{  <td class="{}form\_label"{}>Attach:</td>}}
\DoxyCodeLine{573 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{574 \textcolor{stringliteral}{<select style="{}width:100\%\%"{} name="{}files"{} multiple size=\%d>}}
\DoxyCodeLine{575 \textcolor{stringliteral}{\%s}}
\DoxyCodeLine{576 \textcolor{stringliteral}{</select>}}
\DoxyCodeLine{577 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{578 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{579 \textcolor{stringliteral}{"{}"{}"{}} \% (min(5, len(c.files)), attachFileOptions)}
\DoxyCodeLine{580         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{581             attachFileRow = \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{582 }
\DoxyCodeLine{583         result = \textcolor{stringliteral}{"{}"{}"{}<html>}}
\DoxyCodeLine{584 \textcolor{stringliteral}{<head>}}
\DoxyCodeLine{585 \textcolor{stringliteral}{  <title>File Bug</title>}}
\DoxyCodeLine{586 \textcolor{stringliteral}{  <link rel="{}stylesheet"{} type="{}text/css"{} href="{}/scanview.css"{} />}}
\DoxyCodeLine{587 \textcolor{stringliteral}{</head>}}
\DoxyCodeLine{588 \textcolor{stringliteral}{<script language="{}javascript"{} type="{}text/javascript"{}>}}
\DoxyCodeLine{589 \textcolor{stringliteral}{var reporters = \%(reportersArray)s;}}
\DoxyCodeLine{590 \textcolor{stringliteral}{function updateReporterOptions() \{}}
\DoxyCodeLine{591 \textcolor{stringliteral}{  index = document.getElementById('reporter').selectedIndex;}}
\DoxyCodeLine{592 \textcolor{stringliteral}{  for (var i=0; i < reporters.length; ++i) \{}}
\DoxyCodeLine{593 \textcolor{stringliteral}{    o = document.getElementById(reporters[i] + "{}ReporterOptions"{});}}
\DoxyCodeLine{594 \textcolor{stringliteral}{    if (i == index) \{}}
\DoxyCodeLine{595 \textcolor{stringliteral}{      o.style.display = "{}"{};}}
\DoxyCodeLine{596 \textcolor{stringliteral}{    \} else \{}}
\DoxyCodeLine{597 \textcolor{stringliteral}{      o.style.display = "{}none"{};}}
\DoxyCodeLine{598 \textcolor{stringliteral}{    \}}}
\DoxyCodeLine{599 \textcolor{stringliteral}{  \}}}
\DoxyCodeLine{600 \textcolor{stringliteral}{\}}}
\DoxyCodeLine{601 \textcolor{stringliteral}{</script>}}
\DoxyCodeLine{602 \textcolor{stringliteral}{<body onLoad="{}updateReporterOptions()"{}>}}
\DoxyCodeLine{603 \textcolor{stringliteral}{<h3>}}
\DoxyCodeLine{604 \textcolor{stringliteral}{<a href="{}/"{}>Summary</a> > }}
\DoxyCodeLine{605 \textcolor{stringliteral}{\%(reportingFor)s}}
\DoxyCodeLine{606 \textcolor{stringliteral}{File Bug</h3>}}
\DoxyCodeLine{607 \textcolor{stringliteral}{<form name="{}form"{} action="{}/report\_submit"{} method="{}post"{}>}}
\DoxyCodeLine{608 \textcolor{stringliteral}{<input type="{}hidden"{} name="{}report"{} value="{}\%(report)s"{}>}}
\DoxyCodeLine{609 \textcolor{stringliteral}{}}
\DoxyCodeLine{610 \textcolor{stringliteral}{<table class="{}form"{}>}}
\DoxyCodeLine{611 \textcolor{stringliteral}{<tr><td>}}
\DoxyCodeLine{612 \textcolor{stringliteral}{<table class="{}form\_group"{}>}}
\DoxyCodeLine{613 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{614 \textcolor{stringliteral}{  <td class="{}form\_clabel"{}>Title:</td>}}
\DoxyCodeLine{615 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{616 \textcolor{stringliteral}{    <input type="{}text"{} name="{}title"{} size="{}50"{} value="{}\%(title)s"{}>}}
\DoxyCodeLine{617 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{618 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{619 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{620 \textcolor{stringliteral}{  <td class="{}form\_label"{}>Description:</td>}}
\DoxyCodeLine{621 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{622 \textcolor{stringliteral}{<textarea rows="{}10"{} cols="{}80"{} name="{}description"{}>}}
\DoxyCodeLine{623 \textcolor{stringliteral}{\%(description)s}}
\DoxyCodeLine{624 \textcolor{stringliteral}{</textarea>}}
\DoxyCodeLine{625 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{626 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{627 \textcolor{stringliteral}{}}
\DoxyCodeLine{628 \textcolor{stringliteral}{\%(attachFileRow)s}}
\DoxyCodeLine{629 \textcolor{stringliteral}{}}
\DoxyCodeLine{630 \textcolor{stringliteral}{</table>}}
\DoxyCodeLine{631 \textcolor{stringliteral}{<br>}}
\DoxyCodeLine{632 \textcolor{stringliteral}{<table class="{}form\_group"{}>}}
\DoxyCodeLine{633 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{634 \textcolor{stringliteral}{  <td class="{}form\_clabel"{}>Method:</td>}}
\DoxyCodeLine{635 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{636 \textcolor{stringliteral}{    <select id="{}reporter"{} name="{}reporter"{} onChange="{}updateReporterOptions()"{}>}}
\DoxyCodeLine{637 \textcolor{stringliteral}{    \%(reporterSelections)s}}
\DoxyCodeLine{638 \textcolor{stringliteral}{    </select>}}
\DoxyCodeLine{639 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{640 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{641 \textcolor{stringliteral}{\%(reporterOptionsDivs)s}}
\DoxyCodeLine{642 \textcolor{stringliteral}{</table>}}
\DoxyCodeLine{643 \textcolor{stringliteral}{<br>}}
\DoxyCodeLine{644 \textcolor{stringliteral}{</td></tr>}}
\DoxyCodeLine{645 \textcolor{stringliteral}{<tr><td class="{}form\_submit"{}>}}
\DoxyCodeLine{646 \textcolor{stringliteral}{  <input align="{}right"{} type="{}submit"{} name="{}Submit"{} value="{}Submit"{}>}}
\DoxyCodeLine{647 \textcolor{stringliteral}{</td></tr>}}
\DoxyCodeLine{648 \textcolor{stringliteral}{</table>}}
\DoxyCodeLine{649 \textcolor{stringliteral}{</form>}}
\DoxyCodeLine{650 \textcolor{stringliteral}{}}
\DoxyCodeLine{651 \textcolor{stringliteral}{\%(extraIFrame)s}}
\DoxyCodeLine{652 \textcolor{stringliteral}{}}
\DoxyCodeLine{653 \textcolor{stringliteral}{</body>}}
\DoxyCodeLine{654 \textcolor{stringliteral}{</html>"{}"{}"{}}\%locals()}
\DoxyCodeLine{655 }
\DoxyCodeLine{656         \textcolor{keywordflow}{return} self.send\_string(result)}
\DoxyCodeLine{657 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+report\+\_\+context(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string(), and Scan\+View.\+Reporter\+Thread.\+server.

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a0913f3b844213d82ee4c849d4c4fad4b}\label{class_scan_view_1_1_scan_view_request_handler_a0913f3b844213d82ee4c849d4c4fad4b}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_report\_submit@{send\_report\_submit}}
\index{send\_report\_submit@{send\_report\_submit}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_report\_submit()}{send\_report\_submit()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report\+\_\+submit (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 354 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{354     \textcolor{keyword}{def }send\_report\_submit(self):}
\DoxyCodeLine{355         report = self.get\_scalar\_field(\textcolor{stringliteral}{'report'})}
\DoxyCodeLine{356         c = self.get\_report\_context(report)}
\DoxyCodeLine{357         \textcolor{keywordflow}{if} c.reportSource \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{358             reportingFor = \textcolor{stringliteral}{"{}Report Crashes > "{}}}
\DoxyCodeLine{359             fileBug = \textcolor{stringliteral}{"{}"{}"{}\(\backslash\)}}
\DoxyCodeLine{360 \textcolor{stringliteral}{<a href="{}/report\_crashes"{}>File Bug</a> > "{}"{}"{}}\%locals()}
\DoxyCodeLine{361         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{362             reportingFor = \textcolor{stringliteral}{'<a href="{}/\%s"{}>Report \%s</a> > '} \% (c.reportSource, }
\DoxyCodeLine{363                                                                    report)}
\DoxyCodeLine{364             fileBug = \textcolor{stringliteral}{'<a href="{}/report/\%s"{}>File Bug</a> > '} \% report}
\DoxyCodeLine{365         title = self.get\_scalar\_field(\textcolor{stringliteral}{'title'})}
\DoxyCodeLine{366         description = self.get\_scalar\_field(\textcolor{stringliteral}{'description'})}
\DoxyCodeLine{367 }
\DoxyCodeLine{368         res,message = self.submit\_bug(c)}
\DoxyCodeLine{369 }
\DoxyCodeLine{370         \textcolor{keywordflow}{if} res:}
\DoxyCodeLine{371             statusClass = \textcolor{stringliteral}{'SubmitOk'}}
\DoxyCodeLine{372             statusName = \textcolor{stringliteral}{'Succeeded'}}
\DoxyCodeLine{373         \textcolor{keywordflow}{else}:}
\DoxyCodeLine{374             statusClass = \textcolor{stringliteral}{'SubmitFail'}}
\DoxyCodeLine{375             statusName = \textcolor{stringliteral}{'Failed'}}
\DoxyCodeLine{376 }
\DoxyCodeLine{377         result = \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{378 \textcolor{stringliteral}{<head>}}
\DoxyCodeLine{379 \textcolor{stringliteral}{  <title>Bug Submission</title>}}
\DoxyCodeLine{380 \textcolor{stringliteral}{  <link rel="{}stylesheet"{} type="{}text/css"{} href="{}/scanview.css"{} />}}
\DoxyCodeLine{381 \textcolor{stringliteral}{</head>}}
\DoxyCodeLine{382 \textcolor{stringliteral}{<body>}}
\DoxyCodeLine{383 \textcolor{stringliteral}{<h3>}}
\DoxyCodeLine{384 \textcolor{stringliteral}{<a href="{}/"{}>Summary</a> > }}
\DoxyCodeLine{385 \textcolor{stringliteral}{\%(reportingFor)s}}
\DoxyCodeLine{386 \textcolor{stringliteral}{\%(fileBug)s}}
\DoxyCodeLine{387 \textcolor{stringliteral}{Submit</h3>}}
\DoxyCodeLine{388 \textcolor{stringliteral}{<form name="{}form"{} action="{}"{}>}}
\DoxyCodeLine{389 \textcolor{stringliteral}{<table class="{}form"{}>}}
\DoxyCodeLine{390 \textcolor{stringliteral}{<tr><td>}}
\DoxyCodeLine{391 \textcolor{stringliteral}{<table class="{}form\_group"{}>}}
\DoxyCodeLine{392 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{393 \textcolor{stringliteral}{  <td class="{}form\_clabel"{}>Title:</td>}}
\DoxyCodeLine{394 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{395 \textcolor{stringliteral}{    <input type="{}text"{} name="{}title"{} size="{}50"{} value="{}\%(title)s"{} disabled>}}
\DoxyCodeLine{396 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{397 \textcolor{stringliteral}{</tr>}}
\DoxyCodeLine{398 \textcolor{stringliteral}{<tr>}}
\DoxyCodeLine{399 \textcolor{stringliteral}{  <td class="{}form\_label"{}>Description:</td>}}
\DoxyCodeLine{400 \textcolor{stringliteral}{  <td class="{}form\_value"{}>}}
\DoxyCodeLine{401 \textcolor{stringliteral}{<textarea rows="{}10"{} cols="{}80"{} name="{}description"{} disabled>}}
\DoxyCodeLine{402 \textcolor{stringliteral}{\%(description)s}}
\DoxyCodeLine{403 \textcolor{stringliteral}{</textarea>}}
\DoxyCodeLine{404 \textcolor{stringliteral}{  </td>}}
\DoxyCodeLine{405 \textcolor{stringliteral}{</table>}}
\DoxyCodeLine{406 \textcolor{stringliteral}{</td></tr>}}
\DoxyCodeLine{407 \textcolor{stringliteral}{</table>}}
\DoxyCodeLine{408 \textcolor{stringliteral}{</form>}}
\DoxyCodeLine{409 \textcolor{stringliteral}{<h1 class="{}\%(statusClass)s"{}>Submission \%(statusName)s</h1>}}
\DoxyCodeLine{410 \textcolor{stringliteral}{\%(message)s}}
\DoxyCodeLine{411 \textcolor{stringliteral}{<p>}}
\DoxyCodeLine{412 \textcolor{stringliteral}{<hr>}}
\DoxyCodeLine{413 \textcolor{stringliteral}{<a href="{}/"{}>Return to Summary</a>}}
\DoxyCodeLine{414 \textcolor{stringliteral}{</body>}}
\DoxyCodeLine{415 \textcolor{stringliteral}{</html>"{}"{}"{}}\%locals()}
\DoxyCodeLine{416         \textcolor{keywordflow}{return} self.send\_string(result)}
\DoxyCodeLine{417 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+report\+\_\+context(), Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+scalar\+\_\+field(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+submit\+\_\+bug().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a1e383bae6ec3293b00eed32175864e44}\label{class_scan_view_1_1_scan_view_request_handler_a1e383bae6ec3293b00eed32175864e44}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!send\_string@{send\_string}}
\index{send\_string@{send\_string}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{send\_string()}{send\_string()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{s,  }\item[{}]{ctype = {\ttfamily \textquotesingle{}text/html\textquotesingle{}},  }\item[{}]{headers = {\ttfamily True},  }\item[{}]{mtime = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 746 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{746     \textcolor{keyword}{def }send\_string(self, s, ctype='text/html', headers=True, mtime=None):}
\DoxyCodeLine{747         encoded\_s = s.encode(\textcolor{stringliteral}{'utf-\/8'})}
\DoxyCodeLine{748         \textcolor{keywordflow}{if} headers:}
\DoxyCodeLine{749             self.send\_response(200)}
\DoxyCodeLine{750             self.send\_header(\textcolor{stringliteral}{"{}Content-\/type"{}}, ctype)}
\DoxyCodeLine{751             self.send\_header(\textcolor{stringliteral}{"{}Content-\/Length"{}}, str(len(encoded\_s)))}
\DoxyCodeLine{752             \textcolor{keywordflow}{if} mtime \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:}
\DoxyCodeLine{753                 mtime = self.dynamic\_mtime}
\DoxyCodeLine{754             self.send\_header(\textcolor{stringliteral}{"{}Last-\/Modified"{}}, self.date\_time\_string(mtime))}
\DoxyCodeLine{755             self.end\_headers()}
\DoxyCodeLine{756         \textcolor{keywordflow}{return} BytesIO(encoded\_s)}
\DoxyCodeLine{757 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+dynamic\+\_\+mtime.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+handle\+\_\+exception(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+open\+\_\+report(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+patched\+\_\+file(), Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report\+\_\+submit().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_a12997f4b65d994a8ce915855c2282835}\label{class_scan_view_1_1_scan_view_request_handler_a12997f4b65d994a8ce915855c2282835}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!submit\_bug@{submit\_bug}}
\index{submit\_bug@{submit\_bug}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{submit\_bug()}{submit\_bug()}}
{\footnotesize\ttfamily def Scan\+View.\+Scan\+View\+Request\+Handler.\+submit\+\_\+bug (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{c }\end{DoxyParamCaption})}



Definition at line 297 of file Scan\+View.\+py.


\begin{DoxyCode}{0}
\DoxyCodeLine{297     \textcolor{keyword}{def }submit\_bug(self, c):}
\DoxyCodeLine{298         title = self.get\_scalar\_field(\textcolor{stringliteral}{'title'})}
\DoxyCodeLine{299         description = self.get\_scalar\_field(\textcolor{stringliteral}{'description'})}
\DoxyCodeLine{300         report = self.get\_scalar\_field(\textcolor{stringliteral}{'report'})}
\DoxyCodeLine{301         reporterIndex = self.get\_scalar\_field(\textcolor{stringliteral}{'reporter'})}
\DoxyCodeLine{302         files = []}
\DoxyCodeLine{303         \textcolor{keywordflow}{for} fileID \textcolor{keywordflow}{in} self.fields.\mbox{\hyperlink{namespacestartfile_af8790d592af0bdf089efd317cbd70e2e}{get}}(\textcolor{stringliteral}{'files'},[]):}
\DoxyCodeLine{304             \textcolor{keywordflow}{try}:}
\DoxyCodeLine{305                 i = int(fileID)}
\DoxyCodeLine{306             \textcolor{keywordflow}{except}:}
\DoxyCodeLine{307                 i = \textcolor{keywordtype}{None}}
\DoxyCodeLine{308             \textcolor{keywordflow}{if} i \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} i<0 \textcolor{keywordflow}{or} i>=len(c.files):}
\DoxyCodeLine{309                 \textcolor{keywordflow}{return} (\textcolor{keyword}{False}, \textcolor{stringliteral}{'Invalid file ID'})}
\DoxyCodeLine{310             files.append(c.files[i])}
\DoxyCodeLine{311         }
\DoxyCodeLine{312         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} title:}
\DoxyCodeLine{313             \textcolor{keywordflow}{return} (\textcolor{keyword}{False}, \textcolor{stringliteral}{"{}Missing title."{}})}
\DoxyCodeLine{314         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} description:}
\DoxyCodeLine{315             \textcolor{keywordflow}{return} (\textcolor{keyword}{False}, \textcolor{stringliteral}{"{}Missing description."{}})}
\DoxyCodeLine{316         \textcolor{keywordflow}{try}:}
\DoxyCodeLine{317             reporterIndex = int(reporterIndex)}
\DoxyCodeLine{318         \textcolor{keywordflow}{except}:}
\DoxyCodeLine{319             \textcolor{keywordflow}{return} (\textcolor{keyword}{False}, \textcolor{stringliteral}{"{}Invalid report method."{}})}
\DoxyCodeLine{320         }
\DoxyCodeLine{321         \textcolor{comment}{\# Get the reporter and parameters.}}
\DoxyCodeLine{322         reporter = self.server.reporters[reporterIndex]}
\DoxyCodeLine{323         parameters = \{\}}
\DoxyCodeLine{324         \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} reporter.getParameters():}
\DoxyCodeLine{325             name = \textcolor{stringliteral}{'\%s\_\%s'}\%(reporter.getName(),o.getName())}
\DoxyCodeLine{326             \textcolor{keywordflow}{if} name \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.fields:}
\DoxyCodeLine{327                 \textcolor{keywordflow}{return} (\textcolor{keyword}{False}, }
\DoxyCodeLine{328                         \textcolor{stringliteral}{'Missing field "{}\%s"{} for \%s report method.'}\%(name,}
\DoxyCodeLine{329                                                                     reporter.getName()))}
\DoxyCodeLine{330             parameters[o.getName()] = self.get\_scalar\_field(name)}
\DoxyCodeLine{331 }
\DoxyCodeLine{332         \textcolor{comment}{\# Update config defaults.}}
\DoxyCodeLine{333         \textcolor{keywordflow}{if} report != \textcolor{stringliteral}{'None'}:}
\DoxyCodeLine{334             self.server.config.set(\textcolor{stringliteral}{'ScanView'}, \textcolor{stringliteral}{'reporter'}, reporterIndex)}
\DoxyCodeLine{335             \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} reporter.getParameters():}
\DoxyCodeLine{336               \textcolor{keywordflow}{if} o.saveConfigValue():}
\DoxyCodeLine{337                 name = o.getName()}
\DoxyCodeLine{338                 self.server.config.set(reporter.getName(), name, parameters[name])}
\DoxyCodeLine{339 }
\DoxyCodeLine{340         \textcolor{comment}{\# Create the report.}}
\DoxyCodeLine{341         bug = \mbox{\hyperlink{class_reporter_1_1_bug_report}{Reporter.BugReport}}(title, description, files)}
\DoxyCodeLine{342 }
\DoxyCodeLine{343         \textcolor{comment}{\# Kick off a reporting thread.}}
\DoxyCodeLine{344         t = ReporterThread(bug, reporter, parameters, self.server)}
\DoxyCodeLine{345         t.start()}
\DoxyCodeLine{346 }
\DoxyCodeLine{347         \textcolor{comment}{\# Wait for thread to die...}}
\DoxyCodeLine{348         \textcolor{keywordflow}{while} t.isAlive():}
\DoxyCodeLine{349             time.sleep(.25)}
\DoxyCodeLine{350         submitStatus = t.status}
\DoxyCodeLine{351 }
\DoxyCodeLine{352         \textcolor{keywordflow}{return} (t.success, t.status)}
\DoxyCodeLine{353 }

\end{DoxyCode}


References Scan\+View.\+Scan\+View\+Request\+Handler.\+fields, startfile.\+get(), Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+scalar\+\_\+field(), and Scan\+View.\+Reporter\+Thread.\+server.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+report\+\_\+submit().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_aa090f71298600fe2e88035a295465966}\label{class_scan_view_1_1_scan_view_request_handler_aa090f71298600fe2e88035a295465966}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!dynamic\_mtime@{dynamic\_mtime}}
\index{dynamic\_mtime@{dynamic\_mtime}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{dynamic\_mtime}{dynamic\_mtime}}
{\footnotesize\ttfamily Scan\+View.\+Scan\+View\+Request\+Handler.\+dynamic\+\_\+mtime = time.\+time()\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 222 of file Scan\+View.\+py.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+send\+\_\+string().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_aa6c98fcb431e0bb6afe73394d8547be6}\label{class_scan_view_1_1_scan_view_request_handler_aa6c98fcb431e0bb6afe73394d8547be6}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!fields@{fields}}
\index{fields@{fields}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{fields}{fields}}
{\footnotesize\ttfamily Scan\+View.\+Scan\+View\+Request\+Handler.\+fields}



Definition at line 665 of file Scan\+View.\+py.



Referenced by Scan\+View.\+Scan\+View\+Request\+Handler.\+get\+\_\+scalar\+\_\+field(), and Scan\+View.\+Scan\+View\+Request\+Handler.\+submit\+\_\+bug().

\mbox{\Hypertarget{class_scan_view_1_1_scan_view_request_handler_ae12d1b11b78dbddf4e5db38a2bdc0f21}\label{class_scan_view_1_1_scan_view_request_handler_ae12d1b11b78dbddf4e5db38a2bdc0f21}} 
\index{ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}!server\_version@{server\_version}}
\index{server\_version@{server\_version}!ScanView.ScanViewRequestHandler@{ScanView.ScanViewRequestHandler}}
\doxysubsubsection{\texorpdfstring{server\_version}{server\_version}}
{\footnotesize\ttfamily string Scan\+View.\+Scan\+View\+Request\+Handler.\+server\+\_\+version = \char`\"{}Scan\+View\+Server/\char`\"{} + \+\_\+\+\_\+version\+\_\+\+\_\+\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 221 of file Scan\+View.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/maximilian/clang-\/llvm/clang/tools/scan-\/view/share/\mbox{\hyperlink{_scan_view_8py}{Scan\+View.\+py}}\end{DoxyCompactItemize}
